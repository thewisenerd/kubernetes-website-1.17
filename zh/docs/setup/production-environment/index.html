<!DOCTYPE html>
<html id="docs" lang="zh" class="">
	<head>
	

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>生产环境 - Kubernetes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#326ce5">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">









<link rel="stylesheet" href="/css/style.b7b8403eb5b1fddd0a2da2a8383d5b53e6ef81c23e4b0e292e6103bd91f9502d.css" integrity="sha256-t7hAPrWx/d0KLaKoOD1bU&#43;bvgcI&#43;Sw4pLmEDvZH5UC0=">


<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="https://kubernetes.io/zh/docs/setup/production-environment/">
<meta property="og:title" content="生产环境">
<meta name="twitter:title" content="生产环境">
<meta name="twitter:image" content="https://kubernetes.io/images/favicon.png" />

<meta name="twitter:image:alt" content="Kubernetes">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-4.3.1.min.js"></script>
<script src="/js/sweetalert-2.1.2.min.js"></script>

<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


	</head>
	<body>
		<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/zh/" class="logo" title="生产级别的容器编排系统 - Kubernetes" aria-label="Kubernetes website"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/zh/docs/" class="active">文档</a></li>
            
            <li><a href="/zh/blog/">博客</a></li>
            
            
            
            <li><a href="/zh/partners/">合作伙伴</a></li>
            
            <li><a href="/zh/community/">社区</a></li>
            
            <li><a href="/zh/case-studies/">案例分析</a></li>
            
            
            
             <li>
                <a href="#">
                    中文 Chinese <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/docs/setup/production-environment/">English</a></li>
                
                    <li><a href="/ko/docs/setup/production-environment/">한국어 Korean</a></li>
                
                    <li><a href="/ja/docs/setup/production-environment/">日本語 Japanese</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.17 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io/zh/docs/setup/production-environment/">v1.21</a></li>
                
                    <li><a href="https://v1-20.docs.kubernetes.io/zh/docs/setup/production-environment/">v1.20</a></li>
                
                    <li><a href="https://v1-19.docs.kubernetes.io/zh/docs/setup/production-environment/">v1.19</a></li>
                
                    <li><a href="https://v1-18.docs.kubernetes.io/zh/docs/setup/production-environment/">v1.18</a></li>
                
                    <li><a href="https://v1-17.docs.kubernetes.io/zh/docs/setup/production-environment/">v1.17</a></li>
                
                </ul>
            </li>
        </ul>
        
        <a href="/zh/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>学习 Kubernetes 基础知识</a>
        

        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <div class="main-section" data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/zh/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

            </div>
         
           <div class="nav-box">
            <h3><a href="/zh/docs/home/">文档</a></h3>
           <p>通过演练，示例和参考文档了解如何使用 Kubernetes。你甚至可以<a href="/editdocs/" data-auto-burger-exclude>帮助贡献文档</a>！</p>

            </div>
         
           <div class="nav-box">
            <h3><a href="/zh/blog/">博客</a></h3>
           <p>阅读关于 kubernetes 和容器规范的最新信息,以及获取最新的技术。</p>

            </div>
         
        </div>
        <div class="main-section" data-auto-burger="primary">
            <div class="left">
                <h5 class="github-invite">想要修改 Kubernetes 的核心源代码？</h5>
                <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>在 GitHub 上查看</a>
            </div>

            <div class="right">
                <h5 class="github-invite">了解社区</h5>
                <div class="social">
                    <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                    <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                    <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                    <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                    <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                    <a href="https://discuss.kubernetes.io" class="mailing-list"><span>论坛</span></a>
                    <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>事件日历</span></a>
                </div>
            </div>
            <div class="clear" style="clear: both"></div>
        </div>
    </nav>
</header>

		
		
		<section id="hero" class="light-text no-sub">
			







<h1>入门</h1>
<h5></h5>












<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/zh/docs/home/">主页</a></li>
		
		
		<li><a href="/zh/docs/setup/" class="YAH">入门</a></li>
		
		
		<li><a href="/zh/docs/concepts/">概念</a></li>
		
		
		<li><a href="/zh/docs/tasks/">任务</a></li>
		
		
		<li><a href="/zh/docs/tutorials/">教程</a></li>
		
		
		<li><a href="/zh/docs/reference/">参考</a></li>
		
		
		<li><a href="/zh/docs/contribute/">贡献</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/" role="search">
		<input type="text" id="search" name="q" placeholder="搜索" aria-label="Search">
	</form>
</div>

		</section>
		
    
		
<section id="deprecationWarning">
  <main>
    <div class="content deprecation-warning">
      <h3>
	 Kubernetes v1.17
	  版本的文档已不再维护。您现在看到的版本来自于一份静态的快照。如需查阅最新文档，请点击
	 <a href="https://kubernetes.io/docs/home/">最新版本。</a>
      </h3>
    </div>
  </main>
</section>


    <main>
        <section id="encyclopedia">
          
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
             
         
             
         
             
         
             
         
         
        
        <a class="item" data-title="入门" href="/zh/docs/setup/"></a>

	
	
			
			
			
			
			
		
	
	
	
		
			
<div class="item" data-title="Kubernetes 发行说明和版本偏差">
	<div class="container">
		
		
		
		<a class="item" data-title="Kubernetes 发行说明和版本偏差" href="/zh/docs/setup/release/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="v1.17 Release Notes <small>(EN)</small>" href="/docs/setup/release/notes/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes 版本及版本倾斜支持策略" href="/zh/docs/setup/release/version-skew-policy/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="学习环境">
	<div class="container">
		
		
		
		<a class="item" data-title="学习环境" href="/zh/docs/setup/learning-environment/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Installing Kubernetes with Kind <small>(EN)</small>" href="/docs/setup/learning-environment/kind/"></a>

		
	
		
			

<a class="item" data-title="使用 Minikube 安装 Kubernetes" href="/zh/docs/setup/learning-environment/minikube/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" data-title="使用 kubeadm 创建一个单主集群" href="/zh/docs/setup/independent/create-cluster-kubeadm/"></a>

		
	
		
			
<div class="item" data-title="生产环境">
	<div class="container">
		
		
		
		<a class="item" data-title="生产环境" href="/zh/docs/setup/production-environment/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="容器运行时" href="/zh/docs/setup/production-environment/container-runtimes/"></a>

		
	
		
			
<div class="item" data-title="Turnkey 云解决方案">
	<div class="container">
		
		
		
		<a class="item" data-title="Turnkey 云解决方案" href="/zh/docs/setup/production-environment/turnkey/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Running Kubernetes on CenturyLink Cloud <small>(EN)</small>" href="/docs/setup/production-environment/turnkey/clc/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Running Kubernetes on Google Compute Engine <small>(EN)</small>" href="/docs/setup/production-environment/turnkey/gce/"></a>

		
	
		
			

<a class="item" data-title="使用 IBM Cloud Private 在多个云上运行 Kubernetes" href="/zh/docs/setup/production-environment/turnkey/icp/"></a>

		
	
		
			

<a class="item" data-title="在 AWS EC2 上运行 Kubernetes" href="/zh/docs/setup/production-environment/turnkey/aws/"></a>

		
	
		
			

<a class="item" data-title="在 Azure 上运行 Kubernetes" href="/zh/docs/setup/production-environment/turnkey/azure/"></a>

		
	
		
			

<a class="item" data-title="在腾讯云容器服务上运行 Kubernetes" href="/zh/docs/setup/production-environment/turnkey/tencent/"></a>

		
	
		
			

<a class="item" data-title="在阿里云上运行 Kubernetes" href="/zh/docs/setup/production-environment/turnkey/alibaba-cloud/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="使用部署工具安装 Kubernetes">
	<div class="container">
		
		
		
		<a class="item" data-title="使用部署工具安装 Kubernetes" href="/zh/docs/setup/production-environment/tools/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			
<div class="item" data-title="使用 kubeadm 引导集群">
	<div class="container">
		
		
		
		<a class="item" data-title="使用 kubeadm 引导集群" href="/zh/docs/setup/production-environment/tools/kubeadm/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="安装 kubeadm" href="/zh/docs/setup/production-environment/tools/kubeadm/install-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="对 kubeadm 进行故障排查" href="/zh/docs/setup/production-environment/tools/kubeadm/troubleshooting-kubeadm/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Creating a single control-plane cluster with kubeadm <small>(EN)</small>" href="/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="使用 kubeadm 定制控制平面配置" href="/zh/docs/setup/production-environment/tools/kubeadm/control-plane-flags/"></a>

		
	
		
			

<a class="item" data-title="高可用拓扑选项" href="/zh/docs/setup/production-environment/tools/kubeadm/ha-topology/"></a>

		
	
		
			

<a class="item" data-title="利用 kubeadm 创建高可用集群" href="/zh/docs/setup/production-environment/tools/kubeadm/high-availability/"></a>

		
	
		
			

<a class="item" data-title="使用 kubeadm 创建一个高可用 etcd 集群" href="/zh/docs/setup/production-environment/tools/kubeadm/setup-ha-etcd-with-kubeadm/"></a>

		
	
		
			

<a class="item" data-title="使用 kubeadm 配置集群中的每个 kubelet" href="/zh/docs/setup/production-environment/tools/kubeadm/kubelet-integration/"></a>

		
	
		
			

<a class="item" data-title="配置您的 kubernetes 集群以自托管控制平台" href="/zh/docs/setup/production-environment/tools/kubeadm/self-hosting/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" target="_blank" data-title="Installing Kubernetes with KRIB <small>(EN)</small>" href="/docs/setup/production-environment/tools/krib/"></a>

		
	
		
			

<a class="item" data-title="使用 Kops 安装 Kubernetes" href="/zh/docs/setup/production-environment/tools/kops/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Installing Kubernetes with Kubespray <small>(EN)</small>" href="/docs/setup/production-environment/tools/kubespray/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="本地 VMs">
	<div class="container">
		
		
		
		<a class="item" data-title="本地 VMs" href="/zh/docs/setup/production-environment/on-premises-vm/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Cloudstack <small>(EN)</small>" href="/docs/setup/production-environment/on-premises-vm/cloudstack/"></a>

		
	
		
			

<a class="item" data-title="DC/OS 上的 Kubernetes" href="/zh/docs/setup/production-environment/on-premises-vm/dcos/"></a>

		
	
		
			

<a class="item" data-title="oVirt" href="/zh/docs/setup/production-environment/on-premises-vm/ovirt/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Windows Kubernetes">
	<div class="container">
		
		
		
		<a class="item" data-title="Windows Kubernetes" href="/zh/docs/setup/production-environment/windows/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Intro to Windows support in Kubernetes <small>(EN)</small>" href="/docs/setup/production-environment/windows/intro-windows-in-kubernetes/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Guide for adding Windows Nodes in Kubernetes <small>(EN)</small>" href="/docs/setup/production-environment/windows/user-guide-windows-nodes/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes 中调度 Windows 容器的指南" href="/zh/docs/setup/production-environment/windows/user-guide-windows-containers/"></a>

		
	

	</div>
</div>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="最佳实践">
	<div class="container">
		
		
		
		<a class="item" data-title="最佳实践" href="/zh/docs/setup/best-practices/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Running in multiple zones <small>(EN)</small>" href="/docs/setup/best-practices/multiple-zones/"></a>

		
	
		
			

<a class="item" data-title="创建大型集群" href="/zh/docs/setup/best-practices/cluster-large/"></a>

		
	
		
			

<a class="item" data-title="校验节点设置" href="/zh/docs/setup/best-practices/node-conformance/"></a>

		
	
		
			

<a class="item" data-title="PKI 证书和要求" href="/zh/docs/setup/best-practices/certificates/"></a>

		
	

	</div>
</div>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


          <div id="docsContent">
            
    
    
    
    
    
    
	 
    
    
    
<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/zh/docs/setup/production-environment/container-runtimes.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>容器运行时</h1>



<div style="margin-top: 10px; margin-bottom: 10px;">



<b>FEATURE STATE:</b> <code>Kubernetes v1.6</code>




    
    
    
    
    
<a href="#" id="feature-state-dialog-link" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-newwin"></span>稳定</a>
<div id="feature-state-dialog" class="ui-dialog-content" title="稳定">
该功能是“稳定的”，意味着：</p>

<ul>
<li>版本名是 vX，其中 X 是整数。</li>
<li>该功能将出现在多个后续释出的软件稳定版中。</li>
</ul>
</div>
<script>
$(function(){
    
    $( "#feature-state-dialog" ).dialog({
        autoOpen: false,
        width: "600",
        buttons: [
            {
                text: "Ok",
                click: function() {
                    $( this ).dialog( "close" );
                }
            }
        ]
    });

    
    $( "#feature-state-dialog-link" ).click(function( event ) {
        $( "#feature-state-dialog" ).dialog( "open" );
        event.preventDefault();
    });

});
</script>

    

</div>

<!--
To run containers in Pods, Kubernetes uses a container runtime. Here are
the installation instructions for various runtimes.
-->

<p>Kubernetes 使用容器运行时来实现在 pod 中运行容器。
这是各种运行时的安装说明。</p>









<ul id="markdown-toc">










<li><a href="#docker">Docker</a></li>




<li><a href="#cri-o">CRI-O</a></li>




<li><a href="#containerd">containerd</a></li>




<li><a href="#%e5%85%b6%e4%bb%96%e7%9a%84-cri-%e8%bf%90%e8%a1%8c%e6%97%b6-frakti">其他的 CRI 运行时：frakti</a></li>



















</ul>


<blockquote class="caution">
  <div><strong>警告:</strong> <!--
A flaw was found in the way runc handled system file descriptors when running containers.
A malicious container could use this flaw to overwrite contents of the runc binary and
consequently run arbitrary commands on the container host system.

Please refer to this link for more information about this issue
[cve-2019-5736 : runc vulnerability ] (https://access.redhat.com/security/cve/cve-2019-5736)
-->

<p>我们发现 runc 在运行容器，处理系统文件描述符时存在一个漏洞。
恶意容器可以利用此漏洞覆盖 runc 二进制文件的内容，并以此在主机系统的容器上运行任意的命令。</p>

<p>请参考此链接以获取有关此问题的更多信息 <a href="https://access.redhat.com/security/cve/cve-2019-5736" target="_blank">cve-2019-5736 : runc vulnerability </a></p>
</div>
</blockquote>

<!--
### Applicability
-->

<h3 id="适用性">适用性</h3>

<blockquote class="note">
  <div><strong>注意：</strong> <!--
This document is written for users installing CRI onto Linux. For other operating
systems, look for documentation specific to your platform
-->

<p>本文档是为在 Linux 上安装 CRI 的用户编写的。
对于其他操作系统，请查找特定于您平台的文档。</div>
</blockquote>

<!--
You should execute all the commands in this guide as `root`. For example, prefix commands
with `sudo `, or become `root` and run the commands as that user.
-->

<p>您应该以 <code>root</code> 身份执行本指南中的所有命令。
例如，使用 <code>sudo</code> 前缀命令，或者成为 <code>root</code> 并以该用户身份运行命令。</p>

<!--
### Cgroup drivers
-->

<h3 id="cgroup-驱动程序">Cgroup 驱动程序</h3>

<!--
When systemd is chosen as the init system for a Linux distribution, the init process generates
and consumes a root control group (`cgroup`) and acts as a cgroup manager. Systemd has a tight
integration with cgroups and will allocate cgroups per process. It's possible to configure your
container runtime and the kubelet to use `cgroupfs`. Using `cgroupfs` alongside systemd means
that there will then be two different cgroup managers.
-->

<p>当某个 Linux 系统发行版使用 systemd 作为其初始化系统时，初始化进程会生成并使用一个 root 控制组 （<code>cgroup</code>），并充当 cgroup 管理器。
systemd 与 cgroup 集成紧密，并将为每个进程分配 cgroup。
您也可以配置容器运行时和 kubelet 使用 <code>cgroupfs</code>。
连同 systemd 一起使用 <code>cgroupfs</code> 意味着将有两个不同的 cgroup 管理器。</p>

<!--
Control groups are used to constrain resources that are allocated to processes.
A single cgroup manager will simplify the view of what resources are being allocated
and will by default have a more consistent view of the available and in-use resources. When we have
two managers we end up with two views of those resources. We have seen cases in the field
where nodes that are configured to use `cgroupfs` for the kubelet and Docker, and `systemd`
for the rest of the processes running on the node becomes unstable under resource pressure.
-->

<p>控制组用来约束分配给进程的资源。
单个 cgroup 管理器将简化分配资源的视图，并且默认情况下将对可用资源和使用中的资源具有更一致的视图。
当有两个管理器时，最终将对这些资源产生两种视图。
在此领域我们已经看到案例，某些节点配置让 kubelet 和 docker 使用 <code>cgroupfs</code>，而节点上运行的其余进程则使用 systemd；这类节点在资源压力下会变得不稳定。</p>

<!--
Changing the settings such that your container runtime and kubelet use `systemd` as the cgroup driver
stabilized the system. Please note the `native.cgroupdriver=systemd` option in the Docker setup below.
-->

<p>更改设置，令容器运行时和 kubelet 使用 <code>systemd</code> 作为 cgroup 驱动，以此使系统更为稳定。
请注意在 docker  下设置 <code>native.cgroupdriver=systemd</code> 选项。</p>

<blockquote class="caution">
  <div><strong>警告:</strong> <!--
Changing the cgroup driver of a Node that has joined a cluster is highly unrecommended.
If the kubelet has created Pods using the semantics of one cgroup driver, changing the container
runtime to another cgroup driver can cause errors when trying to re-create the PodSandbox
for such existing Pods. Restarting the kubelet may not solve such errors. The recommendation
is to drain the Node from its workloads, remove it from the cluster and re-join it.
-->

<p>强烈建议不要更改已加入集群的节点的 cgroup 驱动。
如果 kubelet 已经使用某 cgroup 驱动的语义创建了 pod，尝试更改运行时以使用别的 cgroup 驱动，为现有 Pods 重新创建 PodSandbox 时会产生错误。
重启 kubelet 也可能无法解决此类问题。
推荐将工作负载逐出节点，之后将节点从集群中删除并重新加入。</div>
</blockquote>

<!--
## Docker

On each of your machines, install Docker.
Version 19.03.4 is recommended, but 1.13.1, 17.03, 17.06, 17.09, 18.06 and 18.09 are known to work as well.
Keep track of the latest verified Docker version in the Kubernetes release notes.

Use the following commands to install Docker on your system:
-->

<h2 id="docker">Docker</h2>

<p>在您的每台机器上安装 Docker。
推荐安装 19.03.4 版本，但是 1.13.1、17.03、17.06、17.09、18.06 和 18.09 版本也是可以的。
请跟踪 Kubernetes 发行说明中经过验证的 Docker 最新版本变化。</p>

<p>使用以下命令在您的系统上安装 Docker：</p>

<div id="tab-cri-docker-installation">
<ul>
    
      
  <li><a href="#tab-cri-docker-installation-0">Ubuntu 16.04&#43;</a></li>

      
  <li><a href="#tab-cri-docker-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-docker-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
&lt;!--
<span style="color:#080;font-style:italic"># Install Docker CE</span>
<span style="color:#080;font-style:italic">## Set up the repository:</span>
<span style="color:#080;font-style:italic">### Install packages to allow apt to use a repository over HTTPS</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  apt-transport-https ca-certificates curl software-properties-common

<span style="color:#080;font-style:italic">### Add Docker’s official GPG key</span>
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -
--&gt;
<span style="color:#080;font-style:italic"># 安装 Docker CE</span>
<span style="color:#080;font-style:italic">## 设置仓库</span>
<span style="color:#080;font-style:italic">### 安装软件包以允许 apt 通过 HTTPS 使用存储库</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  apt-transport-https ca-certificates curl software-properties-common

<span style="color:#080;font-style:italic">### 新增 Docker 的 官方 GPG 秘钥</span>
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -

&lt;!--
<span style="color:#080;font-style:italic">### Add Docker apt repository.</span>
add-apt-repository <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  <span style="color:#b44">&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#b44">  </span><span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span><span style="color:#b44"> \
</span><span style="color:#b44">  stable&#34;</span>

<span style="color:#080;font-style:italic">## Install Docker CE.</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  containerd.io<span style="color:#666">=</span><span style="color:#666">1</span>.2.10-3 <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  docker-ce<span style="color:#666">=</span><span style="color:#666">5</span>:19.03.4~3-0~ubuntu-<span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span> <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  docker-ce-cli<span style="color:#666">=</span><span style="color:#666">5</span>:19.03.4~3-0~ubuntu-<span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span>

<span style="color:#080;font-style:italic"># Setup daemon.</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d
--&gt;
<span style="color:#080;font-style:italic">### 添加 Docker apt 仓库</span>
add-apt-repository <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  <span style="color:#b44">&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#b44">  </span><span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span><span style="color:#b44"> \
</span><span style="color:#b44">  stable&#34;</span>

<span style="color:#080;font-style:italic">## 安装 Docker CE</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install docker-ce<span style="color:#666">=</span><span style="color:#666">18</span>.06.2~ce~3-0~ubuntu

<span style="color:#080;font-style:italic"># 设置 daemon</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d

&lt;!--
<span style="color:#080;font-style:italic"># Restart docker.</span>
systemctl daemon-reload
systemctl restart docker
--&gt;
<span style="color:#080;font-style:italic"># 重启 docker.</span>
systemctl daemon-reload
systemctl restart docker
</code></pre></div>
    

<p></div></p>

<div id="tab-cri-docker-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

&lt;!--
<span style="color:#080;font-style:italic"># Install Docker CE</span>
<span style="color:#080;font-style:italic">## Set up the repository</span>
<span style="color:#080;font-style:italic">### Install required packages.</span>
yum install yum-utils device-mapper-persistent-data lvm2

<span style="color:#080;font-style:italic">### Add Docker repository.</span>
yum-config-manager <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    --add-repo <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    https://download.docker.com/linux/centos/docker-ce.repo

<span style="color:#080;font-style:italic">## Install Docker CE.</span>
yum update <span style="color:#666">&amp;&amp;</span> yum install <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  containerd.io-1.2.10 <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  docker-ce-19.03.4 <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  docker-ce-cli-19.03.4

<span style="color:#080;font-style:italic">## Create /etc/docker directory.</span>
mkdir /etc/docker

<span style="color:#080;font-style:italic"># Setup daemon.</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;,
</span><span style="color:#b44">  &#34;storage-opts&#34;: [
</span><span style="color:#b44">    &#34;overlay2.override_kernel_check=true&#34;
</span><span style="color:#b44">  ]
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d
--&gt;
<span style="color:#080;font-style:italic"># 安装 Docker CE</span>
<span style="color:#080;font-style:italic">## 设置仓库</span>
<span style="color:#080;font-style:italic">### 安装所需包</span>
yum install yum-utils device-mapper-persistent-data lvm2

<span style="color:#080;font-style:italic">### 新增 Docker 仓库。</span>
yum-config-manager <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  --add-repo <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  https://download.docker.com/linux/centos/docker-ce.repo

<span style="color:#080;font-style:italic">## 安装 Docker CE.</span>
yum update <span style="color:#666">&amp;&amp;</span> yum install docker-ce-18.06.2.ce

<span style="color:#080;font-style:italic">## 创建 /etc/docker 目录。</span>
mkdir /etc/docker

<span style="color:#080;font-style:italic"># 设置 daemon。</span>
cat &gt; /etc/docker/daemon.json <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">{
</span><span style="color:#b44">  &#34;exec-opts&#34;: [&#34;native.cgroupdriver=systemd&#34;],
</span><span style="color:#b44">  &#34;log-driver&#34;: &#34;json-file&#34;,
</span><span style="color:#b44">  &#34;log-opts&#34;: {
</span><span style="color:#b44">    &#34;max-size&#34;: &#34;100m&#34;
</span><span style="color:#b44">  },
</span><span style="color:#b44">  &#34;storage-driver&#34;: &#34;overlay2&#34;,
</span><span style="color:#b44">  &#34;storage-opts&#34;: [
</span><span style="color:#b44">    &#34;overlay2.override_kernel_check=true&#34;
</span><span style="color:#b44">  ]
</span><span style="color:#b44">}
</span><span style="color:#b44">EOF</span>

mkdir -p /etc/systemd/system/docker.service.d

&lt;!--
<span style="color:#080;font-style:italic"># Restart Docker</span>
systemctl daemon-reload
systemctl restart docker
--&gt;
<span style="color:#080;font-style:italic"># 重启 Docker</span>
systemctl daemon-reload
systemctl restart docker
</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-docker-installation").tabs();});</script>

<!--
Refer to the [official Docker installation guides](https://docs.docker.com/engine/installation/)
for more information.
-->

<p>请参阅<a href="https://docs.docker.com/engine/installation/" target="_blank">官方 Docker 安装指南</a>
来获取更多的信息。</p>

<!--
## CRI-O

This section contains the necessary steps to install `CRI-O` as CRI runtime.

Use the following commands to install CRI-O on your system:

### Prerequisites

```shell
modprobe overlay
modprobe br_netfilter

# Setup required sysctl params, these persist across reboots.
cat > /etc/sysctl.d/99-kubernetes-cri.conf <<EOF
net.bridge.bridge-nf-call-iptables  = 1
net.ipv4.ip_forward                 = 1
net.bridge.bridge-nf-call-ip6tables = 1
EOF

sysctl --system
```
-->

<h2 id="cri-o">CRI-O</h2>

<p>本节包含安装 <code>CRI-O</code> 作为 CRI 运行时的必要步骤。</p>

<p>使用以下命令在系统中安装 CRI-O：</p>

<h3 id="准备环境">准备环境</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">modprobe overlay
modprobe br_netfilter

<span style="color:#080;font-style:italic"># 设置必需的sysctl参数，这些参数在重新启动后仍然存在。</span>
cat &gt; /etc/sysctl.d/99-kubernetes-cri.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">net.bridge.bridge-nf-call-iptables  = 1
</span><span style="color:#b44">net.ipv4.ip_forward                 = 1
</span><span style="color:#b44">net.bridge.bridge-nf-call-ip6tables = 1
</span><span style="color:#b44">EOF</span>

sysctl --system</code></pre></div>
<div id="tab-cri-cri-o-installation">
<ul>
    
      
  <li><a href="#tab-cri-cri-o-installation-0">Ubuntu 16.04</a></li>

      
  <li><a href="#tab-cri-cri-o-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-cri-o-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

&lt;!--
<span style="color:#080;font-style:italic"># Install prerequisites</span>
apt-get update
apt-get install software-properties-common

add-apt-repository ppa:projectatomic/ppa
apt-get update

<span style="color:#080;font-style:italic"># Install CRI-O</span>
apt-get install cri-o-1.15
--&gt;
<span style="color:#080;font-style:italic"># 安装必备软件</span>
apt-get update
apt-get install software-properties-common

add-apt-repository ppa:projectatomic/ppa
apt-get update

<span style="color:#080;font-style:italic"># 安装 CRI-O</span>
apt-get install cri-o-1.15

</code></pre></div>
    

<p></div></p>

<div id="tab-cri-cri-o-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">

&lt;!--
<span style="color:#080;font-style:italic"># Install prerequisites</span>
yum-config-manager --add-repo<span style="color:#666">=</span>https://cbs.centos.org/repos/paas7-crio-115-release/x86_64/os/

<span style="color:#080;font-style:italic"># Install CRI-O</span>
yum install --nogpgcheck cri-o
--&gt;
<span style="color:#080;font-style:italic"># 安装必备软件</span>
yum-config-manager --add-repo<span style="color:#666">=</span>https://cbs.centos.org/repos/paas7-crio-115-release/x86_64/os/

<span style="color:#080;font-style:italic"># 安装 CRI-O</span>
yum install --nogpgcheck cri-o

</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-cri-o-installation").tabs();});</script>

<!--
### Start CRI-O

```
systemctl start crio
```

Refer to the [CRI-O installation guide](https://github.com/kubernetes-sigs/cri-o#getting-started)
for more information.
-->

<h3 id="启动-cri-o">启动 CRI-O</h3>

<pre><code>systemctl start crio
</code></pre>

<p>请参阅<a href="https://github.com/kubernetes-sigs/cri-o#getting-started" target="_blank">CRI-O 安装指南</a>
来获取更多的信息。</p>

<!--
## Containerd

This section contains the necessary steps to use `containerd` as CRI runtime.

Use the following commands to install Containerd on your system:

### Prerequisites

```shell
cat > /etc/modules-load.d/containerd.conf <<EOF
overlay
br_netfilter
EOF

modprobe overlay
modprobe br_netfilter

# Setup required sysctl params, these persist across reboots.
cat > /etc/sysctl.d/99-kubernetes-cri.conf <<EOF
net.bridge.bridge-nf-call-iptables  = 1
net.ipv4.ip_forward                 = 1
net.bridge.bridge-nf-call-ip6tables = 1
EOF

sysctl --system
```
-->

<h2 id="containerd">containerd</h2>

<p>本节包含使用 <code>containerd</code> 作为 CRI 运行时的必要步骤。</p>

<p>使用以下命令在系统上安装容器：</p>

<h3 id="准备环境-1">准备环境</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cat &gt; /etc/modules-load.d/containerd.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">overlay
</span><span style="color:#b44">br_netfilter
</span><span style="color:#b44">EOF</span>

modprobe overlay
modprobe br_netfilter

<span style="color:#080;font-style:italic"># 设置必需的sysctl参数，这些参数在重新启动后仍然存在。</span>
cat &gt; /etc/sysctl.d/99-kubernetes-cri.conf <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">net.bridge.bridge-nf-call-iptables  = 1
</span><span style="color:#b44">net.ipv4.ip_forward                 = 1
</span><span style="color:#b44">net.bridge.bridge-nf-call-ip6tables = 1
</span><span style="color:#b44">EOF</span>

sysctl --system</code></pre></div>
<!--
### Install containerd
-->

<h3 id="安装-containerd">安装 containerd</h3>

<div id="tab-cri-containerd-installation">
<ul>
    
      
  <li><a href="#tab-cri-containerd-installation-0">Ubuntu 16.04</a></li>

      
  <li><a href="#tab-cri-containerd-installation-1">CentOS/RHEL 7.4&#43;</a></li>

</ul>


<div id="tab-cri-containerd-installation-0">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
&lt;!--
<span style="color:#080;font-style:italic"># Install containerd</span>
<span style="color:#080;font-style:italic">## Set up the repository</span>
<span style="color:#080;font-style:italic">### Install packages to allow apt to use a repository over HTTPS</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install -y apt-transport-https ca-certificates curl software-properties-common

<span style="color:#080;font-style:italic">### Add Docker’s official GPG key</span>
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -

<span style="color:#080;font-style:italic">### Add Docker apt repository.</span>
add-apt-repository <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    <span style="color:#b44">&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#b44">    </span><span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span><span style="color:#b44"> \
</span><span style="color:#b44">    stable&#34;</span>

<span style="color:#080;font-style:italic">## Install containerd</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install -y containerd.io

<span style="color:#080;font-style:italic"># Configure containerd</span>
mkdir -p /etc/containerd
containerd config default &gt; /etc/containerd/config.toml
--&gt;
<span style="color:#080;font-style:italic"># 安装 containerd</span>
<span style="color:#080;font-style:italic">## 设置仓库</span>
<span style="color:#080;font-style:italic">### 安装软件包以允许 apt 通过 HTTPS 使用存储库</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install -y apt-transport-https ca-certificates curl software-properties-common

<span style="color:#080;font-style:italic">### 安装 Docker 的官方 GPG 密钥</span>
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -

<span style="color:#080;font-style:italic">### 新增 Docker apt 仓库。</span>
add-apt-repository <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    <span style="color:#b44">&#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
</span><span style="color:#b44">    </span><span style="color:#a2f;font-weight:bold">$(</span>lsb_release -cs<span style="color:#a2f;font-weight:bold">)</span><span style="color:#b44"> \
</span><span style="color:#b44">    stable&#34;</span>

<span style="color:#080;font-style:italic">## 安装 containerd</span>
apt-get update <span style="color:#666">&amp;&amp;</span> apt-get install -y containerd.io

<span style="color:#080;font-style:italic"># 配置 containerd</span>
mkdir -p /etc/containerd
containerd config default &gt; /etc/containerd/config.toml

&lt;!--
<span style="color:#080;font-style:italic"># Restart containerd</span>
systemctl restart containerd
--&gt;
<span style="color:#080;font-style:italic"># 重启 containerd</span>
systemctl restart containerd
</code></pre></div>
    

<p></div></p>

<div id="tab-cri-containerd-installation-1">
    
        <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
&lt;!--
<span style="color:#080;font-style:italic"># Install containerd</span>
<span style="color:#080;font-style:italic">## Set up the repository</span>
<span style="color:#080;font-style:italic">### Install required packages</span>
yum install yum-utils device-mapper-persistent-data lvm2

<span style="color:#080;font-style:italic">### Add docker repository</span>
yum-config-manager <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    --add-repo <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    https://download.docker.com/linux/centos/docker-ce.repo

<span style="color:#080;font-style:italic">## Install containerd</span>
yum update <span style="color:#666">&amp;&amp;</span> yum install containerd.io

<span style="color:#080;font-style:italic"># Configure containerd</span>
mkdir -p /etc/containerd
containerd config default &gt; /etc/containerd/config.toml
--&gt;
<span style="color:#080;font-style:italic"># 安装 containerd</span>
<span style="color:#080;font-style:italic">## 设置仓库</span>
<span style="color:#080;font-style:italic">### 安装所需包</span>
yum install yum-utils device-mapper-persistent-data lvm2

<span style="color:#080;font-style:italic">### 新增 Docker 仓库</span>
yum-config-manager <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    --add-repo <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>    https://download.docker.com/linux/centos/docker-ce.repo

<span style="color:#080;font-style:italic">## 安装 containerd</span>
yum update <span style="color:#666">&amp;&amp;</span> yum install containerd.io

<span style="color:#080;font-style:italic"># 配置 containerd</span>
mkdir -p /etc/containerd
containerd config default &gt; /etc/containerd/config.toml

&lt;!--
<span style="color:#080;font-style:italic"># Restart containerd</span>
systemctl restart containerd
--&gt;
<span style="color:#080;font-style:italic"># 重启 containerd</span>
systemctl restart containerd
</code></pre></div>
    

<p></div></p>

<p></div></p>

<script>$(function(){$("#tab-cri-containerd-installation").tabs();});</script>

<!--
### systemd

To use the `systemd` cgroup driver, set `plugins.cri.systemd_cgroup = true` in `/etc/containerd/config.toml`.
When using kubeadm, manually configure the
[cgroup driver for kubelet](/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#configure-cgroup-driver-used-by-kubelet-on-master-node)

## Other CRI runtimes: frakti

Refer to the [Frakti QuickStart guide](https://github.com/kubernetes/frakti#quickstart) for more information.
-->

<h3 id="systemd">systemd</h3>

<p>使用 <code>systemd</code> cgroup 驱动，在 <code>/etc/containerd/config.toml</code> 中设置 <code>plugins.cri.systemd_cgroup = true</code>。
当使用 kubeadm 时，请手动配置
<a href="/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#configure-cgroup-driver-used-by-kubelet-on-master-node">kubelet 的 cgroup 驱动</a></p>

<h2 id="其他的-cri-运行时-frakti">其他的 CRI 运行时：frakti</h2>

<p>请参阅 <a href="https://github.com/kubernetes/frakti#quickstart" target="_blank">Frakti 快速开始指南</a> 来获取更多的信息。</p>



<!--
---
reviewers:
- vincepri
- bart0sh
title: Container runtimes
content_template: templates/concept
weight: 10
---
-->












    
    

    
            
  <h2>反馈</h2>
  <p class="feedback--prompt">此页是否对您有帮助？ </p>
  <button class="button feedback--yes">是</button>
  <button class="button feedback--no">否</button>
  <p class="feedback--response feedback--response__hidden">
    感谢反馈。如果您有一个关于如何使用 Kubernetes 的特定的、需要答案的问题，可以访问
    <a target="_blank" rel="noopener"
      href="https://stackoverflow.com/questions/tagged/kubernetes">
      Stack Overflow</a>.
    在 GitHub 仓库上登记新的问题
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">
      报告问题</a>
    或者
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">
      提出改进建议</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


    
            <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/setup/production-environment/_index.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/zh\/docs\/setup\/production-environment\/",
    "title" : "生产环境",
    "permalink" : "https:\/\/kubernetes.io\/zh\/docs\/setup\/production-environment\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?template=bug-report.md&title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">报告 GitHub 问题</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/zh/docs/setup/production-environment/_index.md" class="button issue">修改本页面</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    页面最后一次修改于 December 25, 2019 at 8:51 AM PST 由：
    <a href="https://github.com/kubernetes/website/commit/b8b2cc7c7443e32de70834a2b3d2186cae6eea5a/">ZH-trans: merge release1.16-temporary to master (#18217)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs/setup/production-environment/_index.md">页面历史</a>)
  </div>
  
</div>

          </div>
        </section>
    </main>
		<footer>
    <div class="light-text main-section">
        <nav>
            
            
            
            <a href="/zh/docs/home/">主页</a>
            
            <a href="/zh/blog/">博客</a>
            
            
            
            <a href="/zh/partners/">合作伙伴</a>
            
            <a href="/zh/community/">社区</a>
            
            <a href="/zh/case-studies/">案例分析</a>
            
        </nav>
        <div class="social" role="region" aria-label="Social hyperlinks">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="https://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>论坛</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>事件日历</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">贡献</a>
            </div>
        </div>
        <div class="miceType center">
            &copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a> 授权许可</a>
        </div>
        <div class="miceType center">
            Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">商标使用页面</a>
        </div>
        <div class="miceType center">
            ICP license: 京ICP备17074266号-3
        </div>
    </div>
</footer>

		<button class="flyout-button" onclick="kub.toggleToc()" aria-label="Toggle table of contents visibility"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



    <script language="application/javascript">
      
      (function addHeadingLinks(){
        var article = document.getElementById('docsContent');
        var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
        headings.forEach(function(heading){
          if(heading.id){
            var a = document.createElement('a');
            a.innerHTML = heading.innerHTML;
            a.href = '#'+heading.id;
            a.classList.add('inpage_heading');
            heading.innerHTML = '';
            heading.appendChild(a);
          }
        });
      })();
    </script>
	</body>
</html>
