<!DOCTYPE html>
<html id="docs" lang="zh" class="">
	<head>
	

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>kubectl 备忘单 - Kubernetes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#326ce5">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">









<link rel="stylesheet" href="/css/style.b7b8403eb5b1fddd0a2da2a8383d5b53e6ef81c23e4b0e292e6103bd91f9502d.css" integrity="sha256-t7hAPrWx/d0KLaKoOD1bU&#43;bvgcI&#43;Sw4pLmEDvZH5UC0=">


<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">



<meta name="description" content="">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:url" content="https://kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">
<meta property="og:title" content="kubectl 备忘单">
<meta name="twitter:title" content="kubectl 备忘单">
<meta name="twitter:image" content="https://kubernetes.io/images/favicon.png" />

<meta name="twitter:image:alt" content="Kubernetes">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-4.3.1.min.js"></script>
<script src="/js/sweetalert-2.1.2.min.js"></script>

<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


	</head>
	<body>
		<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/zh/" class="logo" title="生产级别的容器编排系统 - Kubernetes" aria-label="Kubernetes website"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/zh/docs/" class="active">文档</a></li>
            
            <li><a href="/zh/blog/">博客</a></li>
            
            
            
            <li><a href="/zh/partners/">合作伙伴</a></li>
            
            <li><a href="/zh/community/">社区</a></li>
            
            <li><a href="/zh/case-studies/">案例分析</a></li>
            
            
            
             <li>
                <a href="#">
                    中文 Chinese <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/docs/reference/kubectl/cheatsheet/">English</a></li>
                
                    <li><a href="/ko/docs/reference/kubectl/cheatsheet/">한국어 Korean</a></li>
                
                    <li><a href="/ja/docs/reference/kubectl/cheatsheet/">日本語 Japanese</a></li>
                
                    <li><a href="/fr/docs/reference/kubectl/cheatsheet/">Français</a></li>
                
                    <li><a href="/de/docs/reference/kubectl/cheatsheet/">Deutsch</a></li>
                
                    <li><a href="/vi/docs/reference/kubectl/cheatsheet/">Tiếng Việt</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.17 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">v1.21</a></li>
                
                    <li><a href="https://v1-20.docs.kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">v1.20</a></li>
                
                    <li><a href="https://v1-19.docs.kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">v1.19</a></li>
                
                    <li><a href="https://v1-18.docs.kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">v1.18</a></li>
                
                    <li><a href="https://v1-17.docs.kubernetes.io/zh/docs/reference/kubectl/cheatsheet/">v1.17</a></li>
                
                </ul>
            </li>
        </ul>
        
        <a href="/zh/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>学习 Kubernetes 基础知识</a>
        

        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <div class="main-section" data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/zh/docs/tutorials/hello-minikube/">Get Started</a></h3>
           <p>Ready to get your hands dirty? Build a simple Kubernetes cluster that runs "Hello World" for Node.js.</p>

            </div>
         
           <div class="nav-box">
            <h3><a href="/zh/docs/home/">文档</a></h3>
           <p>通过演练，示例和参考文档了解如何使用 Kubernetes。你甚至可以<a href="/editdocs/" data-auto-burger-exclude>帮助贡献文档</a>！</p>

            </div>
         
           <div class="nav-box">
            <h3><a href="/zh/blog/">博客</a></h3>
           <p>阅读关于 kubernetes 和容器规范的最新信息,以及获取最新的技术。</p>

            </div>
         
        </div>
        <div class="main-section" data-auto-burger="primary">
            <div class="left">
                <h5 class="github-invite">想要修改 Kubernetes 的核心源代码？</h5>
                <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>在 GitHub 上查看</a>
            </div>

            <div class="right">
                <h5 class="github-invite">了解社区</h5>
                <div class="social">
                    <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                    <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                    <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                    <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                    <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                    <a href="https://discuss.kubernetes.io" class="mailing-list"><span>论坛</span></a>
                    <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>事件日历</span></a>
                </div>
            </div>
            <div class="clear" style="clear: both"></div>
        </div>
    </nav>
</header>

		
		
		<section id="hero" class="light-text no-sub">
			















<h1>参考</h1>
<h5></h5>




<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/zh/docs/home/">主页</a></li>
		
		
		<li><a href="/zh/docs/setup/">入门</a></li>
		
		
		<li><a href="/zh/docs/concepts/">概念</a></li>
		
		
		<li><a href="/zh/docs/tasks/">任务</a></li>
		
		
		<li><a href="/zh/docs/tutorials/">教程</a></li>
		
		
		<li><a href="/zh/docs/reference/" class="YAH">参考</a></li>
		
		
		<li><a href="/zh/docs/contribute/">贡献</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/" role="search">
		<input type="text" id="search" name="q" placeholder="搜索" aria-label="Search">
	</form>
</div>

		</section>
		
    
		
<section id="deprecationWarning">
  <main>
    <div class="content deprecation-warning">
      <h3>
	 Kubernetes v1.17
	  版本的文档已不再维护。您现在看到的版本来自于一份静态的快照。如需查阅最新文档，请点击
	 <a href="https://kubernetes.io/docs/home/">最新版本。</a>
      </h3>
    </div>
  </main>
</section>


    <main>
        <section id="encyclopedia">
          
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
         
        
        <a class="item" data-title="参考" href="/zh/docs/reference/"></a>

	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="标准化词汇表" href="/zh/docs/reference/glossary/"></a>

		
	
		
			
<div class="item" data-title="Kubernetes 问题和安全">
	<div class="container">
		
		
		
		<a class="item" data-title="Kubernetes 问题和安全" href="/zh/docs/reference/issues-security/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Kubernetes 问题追踪" href="/zh/docs/reference/issues-security/issues/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes 安全和信息披露" href="/zh/docs/reference/issues-security/security/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="使用 Kubernetes API">
	<div class="container">
		
		
		
		<a class="item" data-title="使用 Kubernetes API" href="/zh/docs/reference/using-api/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Kubernetes API 总览" href="/zh/docs/reference/using-api/api-overview/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Kubernetes API Concepts <small>(EN)</small>" href="/docs/reference/using-api/api-concepts/"></a>

		
	
		
			

<a class="item" data-title="客户端库" href="/zh/docs/reference/using-api/client-libraries/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Kubernetes Deprecation Policy <small>(EN)</small>" href="/docs/reference/using-api/deprecation-policy/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="访问 API">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Authenticating <small>(EN)</small>" href="/docs/reference/access-authn-authz/authentication/"></a>

		
	
		
			

<a class="item" data-title="使用准入控制器" href="/zh/docs/reference/access-authn-authz/admission-controllers/"></a>

		
	
		
			

<a class="item" data-title="动态准入控制" href="/zh/docs/reference/access-authn-authz/extensible-admission-controllers/"></a>

		
	
		
			

<a class="item" data-title="授权概述" href="/zh/docs/reference/access-authn-authz/authorization/"></a>

		
	
		
			

<a class="item" data-title="使用 RBAC 鉴权" href="/zh/docs/reference/access-authn-authz/rbac/"></a>

		
	
		
			

<a class="item" data-title="使用 Node 鉴权" href="/zh/docs/reference/access-authn-authz/node/"></a>

		
	
		
			

<a class="item" data-title="Webhook 模式" href="/zh/docs/reference/access-authn-authz/webhook/"></a>

		
	
		
			

<a class="item" data-title="Kubernetes API 访问控制" href="/zh/docs/reference/access-authn-authz/controlling-access/"></a>

		
	
		
			

<a class="item" data-title="使用 ABAC 鉴权" href="/zh/docs/reference/access-authn-authz/abac/"></a>

		
	
		
			

<a class="item" data-title="使用启动引导令牌（Bootstrap Tokens）认证" href="/zh/docs/reference/access-authn-authz/bootstrap-tokens/"></a>

		
	
		
			

<a class="item" data-title="管理 Service Accounts" href="/zh/docs/reference/access-authn-authz/service-accounts-admin/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="API 参考">
	<div class="container">
		
		
		
		<a class="item" data-title="API 参考" href="/zh/docs/reference/kubernetes-api/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="v1.17" href="/zh/docs/reference/kubernetes-api/api-index/"></a>

		
	
		
			

<a class="item" data-title="知名标签（Label）、注解（Annotation）和 Taints" href="/zh/docs/reference/kubernetes-api/labels-annotations-taints/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="安装工具">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			
<div class="item" data-title="Kubeadm">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="kubeadm 概述" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm/"></a>

		
	
		
			

<a class="item" data-title="kubeadm init" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-init/"></a>

		
	
		
			

<a class="item" data-title="kubeadm join" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-join/"></a>

		
	
		
			

<a class="item" data-title="kubeadm upgrade" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/"></a>

		
	
		
			

<a class="item" data-title="kubeadm config" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-config/"></a>

		
	
		
			

<a class="item" data-title="kubeadm reset" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-reset/"></a>

		
	
		
			

<a class="item" data-title="kubeadm 令牌" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-token/"></a>

		
	
		
			

<a class="item" data-title="kubeadm version" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-version/"></a>

		
	
		
			

<a class="item" data-title="kubeadm alpha" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-alpha/"></a>

		
	
		
			

<a class="item" data-title="kubeadm init phase" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/"></a>

		
	
		
			

<a class="item" data-title="kubeadm join phase" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-join-phase/"></a>

		
	
		
			

<a class="item" data-title="kubeadm reset phase" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-reset-phase/"></a>

		
	
		
			

<a class="item" data-title="kubeadm upgrade phase" href="/zh/docs/reference/setup-tools/kubeadm/kubeadm-upgrade-phase/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Implementation details <small>(EN)</small>" href="/docs/reference/setup-tools/kubeadm/implementation-details/"></a>

		
	

	</div>
</div>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="kubectl 命令行界面">
	<div class="container">
		
		
		
		<a class="item" data-title="kubectl 命令行界面" href="/zh/docs/reference/kubectl/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="kubectl 概述" href="/zh/docs/reference/kubectl/overview/"></a>

		
	
		
			

<a class="item" data-title="JSONPath 支持" href="/zh/docs/reference/kubectl/jsonpath/"></a>

		
	
		
			

<a class="item" data-title="kubectl" href="/zh/docs/reference/kubectl/kubectl/"></a>

		
	
		
			

<a class="item" data-title="kubectl 命令" href="/zh/docs/reference/kubectl/kubectl-cmds/"></a>

		
	
		
			

<a class="item" data-title="kubectl 备忘单" href="/zh/docs/reference/kubectl/cheatsheet/"></a>

		
	
		
			

<a class="item" data-title="kubectl 的用法约定" href="/zh/docs/reference/kubectl/conventions/"></a>

		
	
		
			

<a class="item" data-title="适用于 Docker 用户的 kubectl" href="/zh/docs/reference/kubectl/docker-cli-to-kubectl/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="命令行工具参考">
	<div class="container">
		
		
		
		<a class="item" data-title="命令行工具参考" href="/zh/docs/reference/command-line-tools-reference/"></a>
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="特性门控" href="/zh/docs/reference/command-line-tools-reference/feature-gates/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="cloud-controller-manager <small>(EN)</small>" href="/docs/reference/command-line-tools-reference/cloud-controller-manager/"></a>

		
	
		
			

<a class="item" data-title="kube-proxy" href="/zh/docs/reference/command-line-tools-reference/kube-proxy/"></a>

		
	
		
			

<a class="item" data-title="kube-scheduler" href="/zh/docs/reference/command-line-tools-reference/kube-scheduler/"></a>

		
	
		
			

<a class="item" data-title="kubelet" href="/zh/docs/reference/command-line-tools-reference/kubelet/"></a>

		
	
		
			

<a class="item" data-title="kube-apiserver" href="/zh/docs/reference/command-line-tools-reference/kube-apiserver/"></a>

		
	
		
			

<a class="item" data-title="kube-controller-manager" href="/zh/docs/reference/command-line-tools-reference/kube-controller-manager/"></a>

		
	
		
			

<a class="item" data-title="Kubelet authentication/authorization" href="/zh/docs/reference/command-line-tools-reference/kubelet-authentication-authorization/"></a>

		
	
		
			

<a class="item" data-title="TLS bootstrapping" href="/zh/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" data-title="工具" href="/zh/docs/reference/tools/"></a>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


          <div id="docsContent">
            

<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/zh/docs/reference/kubectl/cheatsheet.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>kubectl 备忘单</h1>



<!-- See also: [Kubectl Overview](/docs/reference/kubectl/overview/) and [JsonPath Guide](/docs/reference/kubectl/jsonpath). -->

<p>也可以看下: <a href="/docs/reference/kubectl/overview/">Kubectl 概述</a> 和 <a href="/docs/reference/kubectl/jsonpath">JsonPath 指南</a>。</p>

<!-- This page is an overview of the `kubectl` command. -->

<p>本页面是 <code>kubectl</code> 命令的概述。</p>









<ul id="markdown-toc">










<li><a href="#kubectl-%e5%a4%87%e5%bf%98%e5%8d%95">kubectl - 备忘单</a></li>




<li><a href="#kubectl-%e8%87%aa%e5%8a%a8%e8%a1%a5%e5%85%a8">Kubectl 自动补全</a></li>




<li><a href="#kubectl-%e4%b8%8a%e4%b8%8b%e6%96%87%e5%92%8c%e9%85%8d%e7%bd%ae">Kubectl 上下文和配置</a></li>




<li><a href="#apply">Apply</a></li>




<li><a href="#%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1">创建对象</a></li>




<li><a href="#%e8%8e%b7%e5%8f%96%e5%92%8c%e6%9f%a5%e6%89%be%e8%b5%84%e6%ba%90">获取和查找资源</a></li>




<li><a href="#%e6%9b%b4%e6%96%b0%e8%b5%84%e6%ba%90">更新资源</a></li>




<li><a href="#%e5%b1%80%e9%83%a8%e6%9b%b4%e6%96%b0%e8%b5%84%e6%ba%90">局部更新资源</a></li>




<li><a href="#%e7%bc%96%e8%be%91%e8%b5%84%e6%ba%90">编辑资源</a></li>




<li><a href="#%e5%af%b9%e8%b5%84%e6%ba%90%e8%bf%9b%e8%a1%8c%e4%bc%b8%e7%bc%a9">对资源进行伸缩</a></li>




<li><a href="#%e5%88%a0%e9%99%a4%e8%b5%84%e6%ba%90">删除资源</a></li>




<li><a href="#%e4%b8%8e%e8%bf%90%e8%a1%8c%e4%b8%ad%e7%9a%84-pods-%e8%bf%9b%e8%a1%8c%e4%ba%a4%e4%ba%92">与运行中的 Pods 进行交互</a></li>




<li><a href="#%e4%b8%8e%e8%8a%82%e7%82%b9%e5%92%8c%e9%9b%86%e7%be%a4%e8%bf%9b%e8%a1%8c%e4%ba%a4%e4%ba%92">与节点和集群进行交互</a></li>




















<li><a href="#%e6%8e%a5%e4%b8%8b%e6%9d%a5">接下来</a></li>



</ul>


<!-- # kubectl - Cheat Sheet -->

<h2 id="kubectl-备忘单">kubectl - 备忘单</h2>

<!-- ## Kubectl Autocomplete -->

<h2 id="kubectl-自动补全">Kubectl 自动补全</h2>

<h3 id="bash">BASH</h3>

<!-- ```bash
source <(kubectl completion bash) # setup autocomplete in bash into the current shell, bash-completion package should be installed first.
echo "source <(kubectl completion bash)" >> ~/.bashrc # add autocomplete permanently to your bash shell.
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">source</span> &lt;<span style="color:#666">(</span>kubectl completion bash<span style="color:#666">)</span> <span style="color:#080;font-style:italic"># 在 bash 中设置当前 shell 的自动补全，要先安装 bash-completion 包。</span>
<span style="color:#a2f">echo</span> <span style="color:#b44">&#34;source &lt;(kubectl completion bash)&#34;</span> &gt;&gt; ~/.bashrc <span style="color:#080;font-style:italic"># 在您的 bash shell 中永久的添加自动补全</span></code></pre></div>
<!-- You can also use a shorthand alias for `kubectl` that also works with completion:  -->

<p>您还可以为 <code>kubectl</code> 使用一个速记别名，该别名也可以与 completion 一起使用：</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">alias</span> <span style="color:#b8860b">k</span><span style="color:#666">=</span>kubectl
<span style="color:#a2f">complete</span> -F __start_kubectl k</code></pre></div>
<h3 id="zsh">ZSH</h3>

<!-- ```bash
source <(kubectl completion zsh)  # setup autocomplete in zsh into the current shell
echo "if [ $commands[kubectl] ]; then source <(kubectl completion zsh); fi" >> ~/.zshrc # add autocomplete permanently to your zsh shell
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">source</span> &lt;<span style="color:#666">(</span>kubectl completion zsh<span style="color:#666">)</span>  <span style="color:#080;font-style:italic"># 在 zsh 中设置当前 shell 的自动补全</span>
<span style="color:#a2f">echo</span> <span style="color:#b44">&#34;if [ </span><span style="color:#b8860b">$commands</span><span style="color:#b44">[kubectl] ]; then source &lt;(kubectl completion zsh); fi&#34;</span> &gt;&gt; ~/.zshrc <span style="color:#080;font-style:italic"># 在您的 zsh shell 中永久的添加自动补全</span></code></pre></div>
<!-- ## Kubectl Context and Configuration

Set which Kubernetes cluster `kubectl` communicates with and modifies configuration
information. See [Authenticating Across Clusters with kubeconfig](/docs/tasks/access-application-cluster/configure-access-multiple-clusters/) documentation for
detailed config file information. -->

<h2 id="kubectl-上下文和配置">Kubectl 上下文和配置</h2>

<p>设置 <code>kubectl</code> 与哪个 Kubernetes 集群进行通信并修改配置信息。查看 <a href="/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">使用 kubeconfig 跨集群授权访问</a> 文档获取详情配置文件信息。</p>

<!-- ```bash
kubectl config view # Show Merged kubeconfig settings.

# use multiple kubeconfig files at the same time and view merged config
KUBECONFIG=~/.kube/config:~/.kube/kubconfig2 

kubectl config view

# get the password for the e2e user
kubectl config view -o jsonpath='{.users[?(@.name == "e2e")].user.password}'

kubectl config view -o jsonpath='{.users[].name}'    # get a list of users
kubectl config get-contexts                          # display list of contexts 
kubectl config current-context                         # display the current-context
kubectl config use-context my-cluster-name           # set the default context to my-cluster-name

# add a new cluster to your kubeconf that supports basic auth
kubectl config set-credentials kubeuser/foo.kubernetes.com --username=kubeuser --password=kubepassword

# permanently save the namespace for all subsequent kubectl commands in that context.
kubectl config set-context --current --namespace=ggckad-s2

# set a context utilizing a specific username and namespace.
kubectl config set-context gce --user=cluster-admin --namespace=foo \
  && kubectl config use-context gce
 
kubectl config unset users.foo                       # delete user foo
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl config view <span style="color:#080;font-style:italic"># 显示合并的 kubeconfig 配置。</span>

<span style="color:#080;font-style:italic"># 同时使用多个 kubeconfig 文件并查看合并的配置</span>
<span style="color:#b8860b">KUBECONFIG</span><span style="color:#666">=</span>~/.kube/config:~/.kube/kubconfig2 kubectl config view

<span style="color:#080;font-style:italic"># 获取 e2e 用户的密码</span>
kubectl config view -o <span style="color:#b8860b">jsonpath</span><span style="color:#666">=</span><span style="color:#b44">&#39;{.users[?(@.name == &#34;e2e&#34;)].user.password}&#39;</span>

kubectl config current-context              <span style="color:#080;font-style:italic"># 展示当前所处的上下文</span>
kubectl config use-context my-cluster-name  <span style="color:#080;font-style:italic"># 设置默认的上下文为 my-cluster-name</span>

<span style="color:#080;font-style:italic"># 添加新的集群配置到 kubeconf 中，使用 basic auth 进行鉴权</span>
kubectl config set-credentials kubeuser/foo.kubernetes.com --username<span style="color:#666">=</span>kubeuser --password<span style="color:#666">=</span>kubepassword

<span style="color:#080;font-style:italic"># 使用特定的用户名和命名空间设置上下文。</span>
kubectl config set-context gce --user<span style="color:#666">=</span>cluster-admin --namespace<span style="color:#666">=</span>foo <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  <span style="color:#666">&amp;&amp;</span> kubectl config use-context gce</code></pre></div>
<!-- ## Apply
`apply` manages applications through files defining Kubernetes resources. It creates and updates resources in a cluster through running `kubectl apply`. This is the recommended way of managing Kubernetes applications on production. See [Kubectl Book](https://kubectl.docs.kubernetes.io). -->

<h2 id="apply">Apply</h2>

<p><code>apply</code> 通过定义 Kubernetes 资源的文件管理应用程序。它通过运行 <code>kubectl apply</code> 在集群中创建和更新资源。这是在生产中管理 Kubernetes 应用程序的推荐方法。查阅 <a href="https://kubectl.docs.kubernetes.io" target="_blank">Kubectl 文档</a>。</p>

<!-- ## Creating Objects -->

<h2 id="创建对象">创建对象</h2>

<!-- Kubernetes manifests can be defined in json or yaml. The file extension `.yaml`,
`.yml`, and `.json` can be used. -->

<p>Kubernetes 配置可以用 json 或 yaml 定义。可以使用的文件扩展名有 <code>.yaml</code>，<code>.yml</code> 和 <code>.json</code>。</p>

<!-- ```bash
kubectl apply -f ./my-manifest.yaml           # create resource(s)
kubectl apply -f ./my1.yaml -f ./my2.yaml     # create from multiple files
kubectl apply -f ./dir                        # create resource(s) in all manifest files in dir
kubectl apply -f https://git.io/vPieo         # create resource(s) from url
kubectl create deployment nginx --image=nginx  # start a single instance of nginx
kubectl explain pods,svc                       # get the documentation for pod and svc manifests

# Create multiple YAML objects from stdin
cat <<EOF | kubectl apply -f -
apiVersion: v1
kind: Pod
metadata:
  name: busybox-sleep
spec:
  containers:
  - name: busybox
    image: busybox
    args:
    - sleep
    - "1000000"
---
apiVersion: v1
kind: Pod
metadata:
  name: busybox-sleep-less
spec:
  containers:
  - name: busybox
    image: busybox
    args:
    - sleep
    - "1000"
EOF

# Create a secret with several keys
cat <<EOF | kubectl apply -f -
apiVersion: v1
kind: Secret
metadata:
  name: mysecret
type: Opaque
data:
  password: $(echo -n "s33msi4" | base64 -w0)
  username: $(echo -n "jane" | base64 -w0)
EOF

``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl apply -f ./my-manifest.yaml           <span style="color:#080;font-style:italic"># 创建资源</span>
kubectl apply -f ./my1.yaml -f ./my2.yaml     <span style="color:#080;font-style:italic"># 使用多个文件创建</span>
kubectl apply -f ./dir                        <span style="color:#080;font-style:italic"># 从目录下的全部配置文件创建资源</span>
kubectl apply -f https://git.io/vPieo         <span style="color:#080;font-style:italic"># 从 url 中创建资源</span>
kubectl create deployment nginx --image<span style="color:#666">=</span>nginx  <span style="color:#080;font-style:italic"># 启动单实例 nginx</span>
kubectl explain pods,svc                       <span style="color:#080;font-style:italic"># 获取 pod，svc 配置的文档说明</span>

<span style="color:#080;font-style:italic"># 从标准输入中的多个 YAML 对象中创建</span>
cat <span style="color:#b44">&lt;&lt;EOF | kubectl apply -f -
</span><span style="color:#b44">apiVersion: v1
</span><span style="color:#b44">kind: Pod
</span><span style="color:#b44">metadata:
</span><span style="color:#b44">  name: busybox-sleep
</span><span style="color:#b44">spec:
</span><span style="color:#b44">  containers:
</span><span style="color:#b44">  - name: busybox
</span><span style="color:#b44">    image: busybox
</span><span style="color:#b44">    args:
</span><span style="color:#b44">    - sleep
</span><span style="color:#b44">    - &#34;1000000&#34;
</span><span style="color:#b44">---
</span><span style="color:#b44">apiVersion: v1
</span><span style="color:#b44">kind: Pod
</span><span style="color:#b44">metadata:
</span><span style="color:#b44">  name: busybox-sleep-less
</span><span style="color:#b44">spec:
</span><span style="color:#b44">  containers:
</span><span style="color:#b44">  - name: busybox
</span><span style="color:#b44">    image: busybox
</span><span style="color:#b44">    args:
</span><span style="color:#b44">    - sleep
</span><span style="color:#b44">    - &#34;1000&#34;
</span><span style="color:#b44">EOF</span>

<span style="color:#080;font-style:italic"># 创建有多个 key 的 Secret</span>
cat <span style="color:#b44">&lt;&lt;EOF | kubectl apply -f -
</span><span style="color:#b44">apiVersion: v1
</span><span style="color:#b44">kind: Secret
</span><span style="color:#b44">metadata:
</span><span style="color:#b44">  name: mysecret
</span><span style="color:#b44">type: Opaque
</span><span style="color:#b44">data:
</span><span style="color:#b44">  password: $(echo -n &#34;s33msi4&#34; | base64 -w0)
</span><span style="color:#b44">  username: $(echo -n &#34;jane&#34; | base64 -w0)
</span><span style="color:#b44">EOF</span></code></pre></div>
<!-- ## Viewing, Finding Resources -->

<h2 id="获取和查找资源">获取和查找资源</h2>

<!-- ```bash
# Get commands with basic output
kubectl get services                          # List all services in the namespace
kubectl get pods --all-namespaces             # List all pods in all namespaces
kubectl get pods -o wide                      # List all pods in the namespace, with more details
kubectl get deployment my-dep                 # List a particular deployment
kubectl get pods --include-uninitialized      # List all pods in the namespace, including uninitialized ones
kubectl get pod my-pod -o yaml                # Get a pod's YAML
kubectl get pod my-pod -o yaml --export       # Get a pod's YAML without cluster specific information

# Describe commands with verbose output
kubectl describe nodes my-node
kubectl describe pods my-pod

kubectl get services --sort-by=.metadata.name # List Services Sorted by Name

# List pods Sorted by Restart Count
kubectl get pods --sort-by='.status.containerStatuses[0].restartCount'

# List pods in test namespace sorted by capacity 

kubectl get pods -n test --sort-by=.spec.capacity.storage  

# Get the version label of all pods with label app=cassandra
kubectl get pods --selector=app=cassandra -o \
  jsonpath='{.items[*].metadata.labels.version}'

# Get all worker nodes (use a selector to exclude results that have a label
# named 'node-role.kubernetes.io/master')
kubectl get node --selector='!node-role.kubernetes.io/master'

# Get all running pods in the namespace
kubectl get pods --field-selector=status.phase=Running

# Get ExternalIPs of all nodes
kubectl get nodes -o jsonpath='{.items[*].status.addresses[?(@.type=="ExternalIP")].address}'

# List Names of Pods that belong to Particular RC
# "jq" command useful for transformations that are too complex for jsonpath, it can be found at https://stedolan.github.io/jq/
sel=${$(kubectl get rc my-rc --output=json | jq -j '.spec.selector | to_entries | .[] | "\(.key)=\(.value),"')%?}
echo $(kubectl get pods --selector=$sel --output=jsonpath={.items..metadata.name})

# Show labels for all pods (or any other Kubernetes object that supports labelling)
# Also uses "jq"
for item in $( kubectl get pod --output=name); do printf "Labels for %s\n" "$item" | grep --color -E '[^/]+$' && kubectl get "$item" --output=json | jq -r -S '.metadata.labels | to_entries | .[] | " \(.key)=\(.value)"' 2>/dev/null; printf "\n"; done

# Or this command can be used as well to get all the labels associated with pods
kubectl get pods --show-labels

# Check which nodes are ready
JSONPATH='{range .items[*]}{@.metadata.name}:{range @.status.conditions[*]}{@.type}={@.status};{end}{end}' \
 && kubectl get nodes -o jsonpath="$JSONPATH" | grep "Ready=True"

# List all Secrets currently in use by a pod
kubectl get pods -o json | jq '.items[].spec.containers[].env[]?.valueFrom.secretKeyRef.name' | grep -v null | sort | uniq

# List Events sorted by timestamp
kubectl get events --sort-by=.metadata.creationTimestamp
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#080;font-style:italic"># 使用 get 命令获取基本输出</span>
kubectl get services                          <span style="color:#080;font-style:italic"># 列出当前命名空间下的所有 services</span>
kubectl get pods --all-namespaces             <span style="color:#080;font-style:italic"># 列出所有命名空间下的全部的 pods</span>
kubectl get pods -o wide                      <span style="color:#080;font-style:italic"># 列出当前命名空间下的全部 pods，有更多的详细信息</span>
kubectl get deployment my-dep                 <span style="color:#080;font-style:italic"># 列出某个特定的 deployment</span>
kubectl get pods --include-uninitialized      <span style="color:#080;font-style:italic"># 列出当前命名空间下的全部 pods，包含未初始化的</span>
kubectl get pod my-pod -o yaml                <span style="color:#080;font-style:italic"># 获取一个 pod 的 YAML</span>
kubectl get pod my-pod -o yaml --export       <span style="color:#080;font-style:italic"># 获取一个没有集群特定信息的 YAML</span>

<span style="color:#080;font-style:italic"># 使用 describe 命令获取详细输出</span>
kubectl describe nodes my-node
kubectl describe pods my-pod

kubectl get services --sort-by<span style="color:#666">=</span>.metadata.name <span style="color:#080;font-style:italic"># 列出当前命名空间下所有 services，按照名称排序</span>

<span style="color:#080;font-style:italic"># 列出 pods 按照重启次数进行排序</span>
kubectl get pods --sort-by<span style="color:#666">=</span><span style="color:#b44">&#39;.status.containerStatuses[0].restartCount&#39;</span>

<span style="color:#080;font-style:italic"># 列出测试命名空间中的 Pod，按容量排序</span>
kubectl get pods -n <span style="color:#a2f">test</span> --sort-by<span style="color:#666">=</span>.spec.capacity.storage  

<span style="color:#080;font-style:italic"># 获取包含 app=cassandra 标签全部 pods 的 version 标签</span>
kubectl get pods --selector<span style="color:#666">=</span><span style="color:#b8860b">app</span><span style="color:#666">=</span>cassandra -o <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span>  <span style="color:#b8860b">jsonpath</span><span style="color:#666">=</span><span style="color:#b44">&#39;{.items[*].metadata.labels.version}&#39;</span>

<span style="color:#080;font-style:italic"># 获取所有工作节点(使用选择器以排除标签名称为 &#39;node-role.kubernetes.io/master&#39; 的结果)</span>
kubectl get node --selector<span style="color:#666">=</span><span style="color:#b44">&#39;!node-role.kubernetes.io/master&#39;</span>

<span style="color:#080;font-style:italic"># 获取当前命名空间中正在运行的 pods</span>
kubectl get pods --field-selector<span style="color:#666">=</span>status.phase<span style="color:#666">=</span>Running

<span style="color:#080;font-style:italic"># 获取全部 node 的 ExternalIP 地址</span>
kubectl get nodes -o <span style="color:#b8860b">jsonpath</span><span style="color:#666">=</span><span style="color:#b44">&#39;{.items[*].status.addresses[?(@.type==&#34;ExternalIP&#34;)].address}&#39;</span>

<span style="color:#080;font-style:italic"># 列出属于某个特定 RC 的 pods 的名称</span>
<span style="color:#080;font-style:italic"># &#34;jq&#34; 命令对于 jsonpath 过于复杂的转换非常有用，可以在 https://stedolan.github.io/jq/ 找到它。</span>
<span style="color:#b8860b">sel</span><span style="color:#666">=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#a2f;font-weight:bold">$(</span>kubectl get rc my-rc --output<span style="color:#666">=</span>json | jq -j <span style="color:#b44">&#39;.spec.selector | to_entries | .[] | &#34;\(.key)=\(.value),&#34;&#39;</span><span style="color:#a2f;font-weight:bold">)</span>%?<span style="color:#b68;font-weight:bold">}</span>
<span style="color:#a2f">echo</span> <span style="color:#a2f;font-weight:bold">$(</span>kubectl get pods --selector<span style="color:#666">=</span><span style="color:#b8860b">$sel</span> --output<span style="color:#666">=</span><span style="color:#b8860b">jsonpath</span><span style="color:#666">={</span>.items..metadata.name<span style="color:#666">}</span><span style="color:#a2f;font-weight:bold">)</span>

<span style="color:#080;font-style:italic"># 显示所有 Pod 的标签(或任何其他支持标签的 Kubernetes 对象)</span>
<span style="color:#080;font-style:italic"># 也可以使用 &#34;jq&#34;</span>
<span style="color:#a2f;font-weight:bold">for</span> item in <span style="color:#a2f;font-weight:bold">$(</span> kubectl get pod --output<span style="color:#666">=</span>name<span style="color:#a2f;font-weight:bold">)</span>; <span style="color:#a2f;font-weight:bold">do</span> <span style="color:#a2f">printf</span> <span style="color:#b44">&#34;Labels for %s\n&#34;</span> <span style="color:#b44">&#34;</span><span style="color:#b8860b">$item</span><span style="color:#b44">&#34;</span> | grep --color -E <span style="color:#b44">&#39;[^/]+$&#39;</span> <span style="color:#666">&amp;&amp;</span> kubectl get <span style="color:#b44">&#34;</span><span style="color:#b8860b">$item</span><span style="color:#b44">&#34;</span> --output<span style="color:#666">=</span>json | jq -r -S <span style="color:#b44">&#39;.metadata.labels | to_entries | .[] | &#34; \(.key)=\(.value)&#34;&#39;</span> <span style="color:#666">2</span>&gt;/dev/null; <span style="color:#a2f">printf</span> <span style="color:#b44">&#34;\n&#34;</span>; <span style="color:#a2f;font-weight:bold">done</span>

<span style="color:#080;font-style:italic"># 或也可以使用此命令来获取与容器关联的所有标签</span>
kubectl get pods --show-labels

<span style="color:#080;font-style:italic"># 检查哪些节点处于 ready</span>
<span style="color:#b8860b">JSONPATH</span><span style="color:#666">=</span><span style="color:#b44">&#39;{range .items[*]}{@.metadata.name}:{range @.status.conditions[*]}{@.type}={@.status};{end}{end}&#39;</span> <span style="color:#b62;font-weight:bold">\
</span><span style="color:#b62;font-weight:bold"></span> <span style="color:#666">&amp;&amp;</span> kubectl get nodes -o <span style="color:#b8860b">jsonpath</span><span style="color:#666">=</span><span style="color:#b44">&#34;</span><span style="color:#b8860b">$JSONPATH</span><span style="color:#b44">&#34;</span> | grep <span style="color:#b44">&#34;Ready=True&#34;</span>

<span style="color:#080;font-style:italic"># 列出被一个 pod 使用的全部 secret</span>
kubectl get pods -o json | jq <span style="color:#b44">&#39;.items[].spec.containers[].env[]?.valueFrom.secretKeyRef.name&#39;</span> | grep -v null | sort | uniq

<span style="color:#080;font-style:italic"># 列出 events，按照创建时间排序</span>
kubectl get events --sort-by<span style="color:#666">=</span>.metadata.creationTimestamp</code></pre></div>
<!-- ## Updating Resources -->

<h2 id="更新资源">更新资源</h2>

<!-- As of version 1.11 `rolling-update` have been deprecated (see [CHANGELOG-1.11.md](https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.11.md)), use `rollout` instead. -->

<p>从版本 1.11 开始，<code>rolling-update</code> 已被弃用（参见 <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.11.md" target="_blank">CHANGELOG-1.11.md</a>)，请使用 <code>rollout</code> 代替。</p>

<!-- ```bash
kubectl set image deployment/frontend www=image:v2               # Rolling update "www" containers of "frontend" deployment, updating the image
kubectl rollout history deployment/frontend                      # Check the history of deployments including the revision 
kubectl rollout undo deployment/frontend                         # Rollback to the previous deployment
kubectl rollout undo deployment/frontend --to-revision=2         # Rollback to a specific revision
kubectl rollout status -w deployment/frontend                    # Watch rolling update status of "frontend" deployment until completion


# deprecated starting version 1.11
kubectl rolling-update frontend-v1 -f frontend-v2.json           # (deprecated) Rolling update pods of frontend-v1
kubectl rolling-update frontend-v1 frontend-v2 --image=image:v2  # (deprecated) Change the name of the resource and update the image
kubectl rolling-update frontend --image=image:v2                 # (deprecated) Update the pods image of frontend
kubectl rolling-update frontend-v1 frontend-v2 --rollback        # (deprecated) Abort existing rollout in progress

cat pod.json | kubectl replace -f -                              # Replace a pod based on the JSON passed into std

# Force replace, delete and then re-create the resource. Will cause a service outage.
kubectl replace --force -f ./pod.json

# Create a service for a replicated nginx, which serves on port 80 and connects to the containers on port 8000
kubectl expose rc nginx --port=80 --target-port=8000

# Update a single-container pod's image version (tag) to v4
kubectl get pod mypod -o yaml | sed 's/\(image: myimage\):.*$/\1:v4/' | kubectl replace -f -

kubectl label pods my-pod new-label=awesome                      # Add a Label
kubectl annotate pods my-pod icon-url=http://goo.gl/XXBTWq       # Add an annotation
kubectl autoscale deployment foo --min=2 --max=10                # Auto scale a deployment "foo"
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl <span style="color:#a2f">set</span> image deployment/frontend <span style="color:#b8860b">www</span><span style="color:#666">=</span>image:v2               <span style="color:#080;font-style:italic"># 滚动更新 &#34;frontend&#34; deployment 的 &#34;www&#34; 容器镜像</span>
kubectl rollout <span style="color:#a2f">history</span> deployment/frontend                      <span style="color:#080;font-style:italic"># 检查部署的历史记录，包括版本</span> 
kubectl rollout undo deployment/frontend                         <span style="color:#080;font-style:italic"># 回滚到上次部署版本</span>
kubectl rollout undo deployment/frontend --to-revision<span style="color:#666">=</span><span style="color:#666">2</span>         <span style="color:#080;font-style:italic"># 回滚到特定部署版本</span>
kubectl rollout status -w deployment/frontend                    <span style="color:#080;font-style:italic"># Watch &#34;frontend&#34; deployment 的滚动升级状态直到完成</span>

<span style="color:#080;font-style:italic"># 从 1.11 版本开始弃用</span>
kubectl rolling-update frontend-v1 -f frontend-v2.json           <span style="color:#080;font-style:italic"># (弃用) 滚动升级 frontend-v1 的 pods</span>
kubectl rolling-update frontend-v1 frontend-v2 --image<span style="color:#666">=</span>image:v2  <span style="color:#080;font-style:italic"># (弃用) 修改资源的名称并更新镜像</span>
kubectl rolling-update frontend --image<span style="color:#666">=</span>image:v2                 <span style="color:#080;font-style:italic"># (弃用) 更新 frontend 的 pods 的镜像</span>
kubectl rolling-update frontend-v1 frontend-v2 --rollback        <span style="color:#080;font-style:italic"># (弃用) 终止已经进行中的 rollout</span>

cat pod.json | kubectl replace -f -                              <span style="color:#080;font-style:italic"># 通过传入到标准输入的 JSON 来替换 pod</span>

<span style="color:#080;font-style:italic"># 强制进行替换，会删除然后再创建资源，会导致服务不可用。</span>
kubectl replace --force -f ./pod.json

<span style="color:#080;font-style:italic"># 为多副本的 nginx 创建服务，使用 80 端口提供服务，连接到容器的 8000 端口。</span>
kubectl expose rc nginx --port<span style="color:#666">=</span><span style="color:#666">80</span> --target-port<span style="color:#666">=</span><span style="color:#666">8000</span>

<span style="color:#080;font-style:italic"># 更新单容器 pod 的镜像标签到 v4</span>
kubectl get pod mypod -o yaml | sed <span style="color:#b44">&#39;s/\(image: myimage\):.*$/\1:v4/&#39;</span> | kubectl replace -f -

kubectl label pods my-pod new-label<span style="color:#666">=</span>awesome                      <span style="color:#080;font-style:italic"># 添加标签</span>
kubectl annotate pods my-pod icon-url<span style="color:#666">=</span>http://goo.gl/XXBTWq       <span style="color:#080;font-style:italic"># 添加注解</span>
kubectl autoscale deployment foo --min<span style="color:#666">=</span><span style="color:#666">2</span> --max<span style="color:#666">=</span><span style="color:#666">10</span>                <span style="color:#080;font-style:italic"># 使 &#34;foo&#34; deployment 自动伸缩容</span></code></pre></div>
<!-- ## Patching Resources -->

<h2 id="局部更新资源">局部更新资源</h2>

<!-- ```bash
kubectl patch node k8s-node-1 -p '{"spec":{"unschedulable":true}}' # Partially update a node

# Update a container's image; spec.containers[*].name is required because it's a merge key
kubectl patch pod valid-pod -p '{"spec":{"containers":[{"name":"kubernetes-serve-hostname","image":"new image"}]}}'

# Update a container's image using a json patch with positional arrays
kubectl patch pod valid-pod --type='json' -p='[{"op": "replace", "path": "/spec/containers/0/image", "value":"new image"}]'

# Disable a deployment livenessProbe using a json patch with positional arrays
kubectl patch deployment valid-deployment  --type json   -p='[{"op": "remove", "path": "/spec/template/spec/containers/0/livenessProbe"}]'

# Add a new element to a positional array 
kubectl patch sa default --type='json' -p='[{"op": "add", "path": "/secrets/1", "value": {"name": "whatever" } }]'
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl patch node k8s-node-1 -p <span style="color:#b44">&#39;{&#34;spec&#34;:{&#34;unschedulable&#34;:true}}&#39;</span> <span style="color:#080;font-style:italic"># 部分更新 node</span>

<span style="color:#080;font-style:italic">#更新容器的镜像；spec.containers[*].name 是必须的。因为它是一个合并 key。</span>
kubectl patch pod valid-pod -p <span style="color:#b44">&#39;{&#34;spec&#34;:{&#34;containers&#34;:[{&#34;name&#34;:&#34;kubernetes-serve-hostname&#34;,&#34;image&#34;:&#34;new image&#34;}]}}&#39;</span>

<span style="color:#080;font-style:italic"># 使用带位置数组的 json patch 更新容器的镜像</span>
kubectl patch pod valid-pod --type<span style="color:#666">=</span><span style="color:#b44">&#39;json&#39;</span> -p<span style="color:#666">=</span><span style="color:#b44">&#39;[{&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/containers/0/image&#34;, &#34;value&#34;:&#34;new image&#34;}]&#39;</span>

<span style="color:#080;font-style:italic"># 使用带位置数组的 json patch 禁用 deployment 的 livenessProbe</span>
kubectl patch deployment valid-deployment  --type json   -p<span style="color:#666">=</span><span style="color:#b44">&#39;[{&#34;op&#34;: &#34;remove&#34;, &#34;path&#34;: &#34;/spec/template/spec/containers/0/livenessProbe&#34;}]&#39;</span>

<span style="color:#080;font-style:italic"># 在带位置数组中添加元素</span> 
kubectl patch sa default --type<span style="color:#666">=</span><span style="color:#b44">&#39;json&#39;</span> -p<span style="color:#666">=</span><span style="color:#b44">&#39;[{&#34;op&#34;: &#34;add&#34;, &#34;path&#34;: &#34;/secrets/1&#34;, &#34;value&#34;: {&#34;name&#34;: &#34;whatever&#34; } }]&#39;</span></code></pre></div>
<!-- ## Editing Resources -->

<h2 id="编辑资源">编辑资源</h2>

<!-- The edit any API resource in an editor. -->

<p>在编辑器中编辑任何 API 资源</p>

<!-- ```bash
kubectl edit svc/docker-registry                      # Edit the service named docker-registry
KUBE_EDITOR="nano" kubectl edit svc/docker-registry   # Use an alternative editor
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl edit svc/docker-registry                      <span style="color:#080;font-style:italic"># 编辑名为 docker-registry 的 service</span>
<span style="color:#b8860b">KUBE_EDITOR</span><span style="color:#666">=</span><span style="color:#b44">&#34;nano&#34;</span> kubectl edit svc/docker-registry   <span style="color:#080;font-style:italic"># 使用其他编辑器</span></code></pre></div>
<!-- ## Scaling Resources -->

<h2 id="对资源进行伸缩">对资源进行伸缩</h2>

<!-- ```bash
kubectl scale --replicas=3 rs/foo                                 # Scale a replicaset named 'foo' to 3
kubectl scale --replicas=3 -f foo.yaml                            # Scale a resource specified in "foo.yaml" to 3
kubectl scale --current-replicas=2 --replicas=3 deployment/mysql  # If the deployment named mysql's current size is 2, scale mysql to 3
kubectl scale --replicas=5 rc/foo rc/bar rc/baz                   # Scale multiple replication controllers
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl scale --replicas<span style="color:#666">=</span><span style="color:#666">3</span> rs/foo                                 <span style="color:#080;font-style:italic"># 将名为 &#39;foo&#39; 的副本集伸缩到 3 副本</span>
kubectl scale --replicas<span style="color:#666">=</span><span style="color:#666">3</span> -f foo.yaml                            <span style="color:#080;font-style:italic"># 将在 &#34;foo.yaml&#34; 中的特定资源伸缩到 3 个副本</span>
kubectl scale --current-replicas<span style="color:#666">=</span><span style="color:#666">2</span> --replicas<span style="color:#666">=</span><span style="color:#666">3</span> deployment/mysql  <span style="color:#080;font-style:italic"># 如果名为 mysql 的 deployment 的副本当前是 2，那么将它伸缩到 3</span>
kubectl scale --replicas<span style="color:#666">=</span><span style="color:#666">5</span> rc/foo rc/bar rc/baz                   <span style="color:#080;font-style:italic"># 伸缩多个 replication controllers</span></code></pre></div>
<!-- ## Deleting Resources -->

<h2 id="删除资源">删除资源</h2>

<!-- ```bash
kubectl delete -f ./pod.json                                              # Delete a pod using the type and name specified in pod.json
kubectl delete pod,service baz foo                                        # Delete pods and services with same names "baz" and "foo"
kubectl delete pods,services -l name=myLabel                              # Delete pods and services with label name=myLabel
kubectl delete pods,services -l name=myLabel --include-uninitialized      # Delete pods and services, including uninitialized ones, with label name=myLabel
kubectl -n my-ns delete po,svc --all                                      # Delete all pods and services, including uninitialized ones, in namespace my-ns,
# Delete all pods matching the awk pattern1 or pattern2
kubectl get pods  -n mynamespace --no-headers=true | awk '/pattern1|pattern2/{print $1}' | xargs  kubectl delete -n mynamespace pod
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl delete -f ./pod.json                                              <span style="color:#080;font-style:italic"># 删除在 pod.json 中指定的类型和名称的 pod</span>
kubectl delete pod,service baz foo                                        <span style="color:#080;font-style:italic"># 删除名称为 &#34;baz&#34; 和 &#34;foo&#34; 的 pod 和 service</span>
kubectl delete pods,services -l <span style="color:#b8860b">name</span><span style="color:#666">=</span>myLabel                              <span style="color:#080;font-style:italic"># 删除包含 name=myLabel 标签的 pods 和 services</span>
kubectl delete pods,services -l <span style="color:#b8860b">name</span><span style="color:#666">=</span>myLabel --include-uninitialized      <span style="color:#080;font-style:italic"># 删除包含 label name=myLabel 标签的 pods 和 services，包括未初始化的</span>
kubectl -n my-ns delete po,svc --all                                      <span style="color:#080;font-style:italic"># 删除在 my-ns 命名空间中全部的 pods 和 services ，包括未初始化的</span>
<span style="color:#080;font-style:italic"># 删除所有与 pattern1 或 pattern2 匹配的 pod</span>
kubectl get pods  -n mynamespace --no-headers<span style="color:#666">=</span><span style="color:#a2f">true</span> | awk <span style="color:#b44">&#39;/pattern1|pattern2/{print $1}&#39;</span> | xargs  kubectl delete -n mynamespace pod</code></pre></div>
<!-- ## Interacting with running Pods -->

<h2 id="与运行中的-pods-进行交互">与运行中的 Pods 进行交互</h2>

<!-- ```bash
kubectl logs my-pod                                 # dump pod logs (stdout)
kubectl logs -l name=myLabel                        # dump pod logs, with label name=myLabel (stdout)
kubectl logs my-pod --previous                      # dump pod logs (stdout) for a previous instantiation of a container
kubectl logs my-pod -c my-container                 # dump pod container logs (stdout, multi-container case)
kubectl logs -l name=myLabel -c my-container        # dump pod logs, with label name=myLabel (stdout)
kubectl logs my-pod -c my-container --previous      # dump pod container logs (stdout, multi-container case) for a previous instantiation of a container
kubectl logs -f my-pod                              # stream pod logs (stdout)
kubectl logs -f my-pod -c my-container              # stream pod container logs (stdout, multi-container case)
kubectl logs -f -l name=myLabel --all-containers    # stream all pods logs with label name=myLabel (stdout)
kubectl run -i --tty busybox --image=busybox -- sh  # Run pod as interactive shell
kubectl attach my-pod -i                            # Attach to Running Container
kubectl port-forward my-pod 5000:6000               # Listen on port 5000 on the local machine and forward to port 6000 on my-pod
kubectl exec my-pod -- ls /                         # Run command in existing pod (1 container case)
kubectl exec my-pod -c my-container -- ls /         # Run command in existing pod (multi-container case)
kubectl top pod POD_NAME --containers               # Show metrics for a given pod and its containers
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl logs my-pod                                 <span style="color:#080;font-style:italic"># 获取 pod 日志(标准输出)</span>
kubectl logs -l <span style="color:#b8860b">name</span><span style="color:#666">=</span>myLabel                        <span style="color:#080;font-style:italic"># 获取 pod label name=myLabel 日志(标准输出)</span>
kubectl logs my-pod --previous                      <span style="color:#080;font-style:italic"># 获取上个容器实例的 pod 日志(标准输出)</span>
kubectl logs my-pod -c my-container                 <span style="color:#080;font-style:italic"># 获取 pod 的容器日志 (标准输出, 多容器的场景)</span>
kubectl logs -l <span style="color:#b8860b">name</span><span style="color:#666">=</span>myLabel -c my-container        <span style="color:#080;font-style:italic"># 获取 label name=myLabel pod 的容器日志 (标准输出, 多容器的场景)</span>
kubectl logs my-pod -c my-container --previous      <span style="color:#080;font-style:italic"># 获取 pod 的上个容器实例日志 (标准输出, 多容器的场景)</span>
kubectl logs -f my-pod                              <span style="color:#080;font-style:italic"># 流式输出 pod 的日志 (标准输出)</span>
kubectl logs -f my-pod -c my-container              <span style="color:#080;font-style:italic"># 流式输出 pod 容器的日志 (标准输出, 多容器的场景)</span>
kubectl logs -f -l <span style="color:#b8860b">name</span><span style="color:#666">=</span>myLabel --all-containers    <span style="color:#080;font-style:italic"># 流式输出 label name=myLabel pod 的日志 (标准输出)</span>
kubectl run -i --tty busybox --image<span style="color:#666">=</span>busybox -- sh  <span style="color:#080;font-style:italic"># 以交互式 shell 运行 pod</span>
kubectl attach my-pod -i                            <span style="color:#080;font-style:italic"># 进入到一个运行中的容器中</span>
kubectl port-forward my-pod <span style="color:#666">5000</span>:6000               <span style="color:#080;font-style:italic"># 在本地计算机上侦听端口 5000 并转发到 my-pod 上的端口 6000</span>
kubectl <span style="color:#a2f">exec</span> my-pod -- ls /                         <span style="color:#080;font-style:italic"># 在已有的 pod 中运行命令(单容器的场景)</span>
kubectl <span style="color:#a2f">exec</span> my-pod -c my-container -- ls /         <span style="color:#080;font-style:italic"># 在已有的 pod 中运行命令(多容器的场景)</span>
kubectl top pod POD_NAME --containers               <span style="color:#080;font-style:italic"># 显示给定 pod 和容器的监控数据</span></code></pre></div>
<!-- ## Interacting with Nodes and Cluster -->

<h2 id="与节点和集群进行交互">与节点和集群进行交互</h2>

<!-- ```bash
kubectl cordon my-node                                                # Mark my-node as unschedulable
kubectl drain my-node                                                 # Drain my-node in preparation for maintenance
kubectl uncordon my-node                                              # Mark my-node as schedulable
kubectl top node my-node                                              # Show metrics for a given node
kubectl cluster-info                                                  # Display addresses of the master and services
kubectl cluster-info dump                                             # Dump current cluster state to stdout
kubectl cluster-info dump --output-directory=/path/to/cluster-state   # Dump current cluster state to /path/to/cluster-state

# If a taint with that key and effect already exists, its value is replaced as specified.
kubectl taint nodes foo dedicated=special-user:NoSchedule
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl cordon my-node                                                <span style="color:#080;font-style:italic"># 设置 my-node 节点为不可调度</span>
kubectl drain my-node                                                 <span style="color:#080;font-style:italic"># 对 my-node 节点进行驱逐操作，为节点维护做准备</span>
kubectl uncordon my-node                                              <span style="color:#080;font-style:italic"># 设置 my-node 节点为可以调度</span>
kubectl top node my-node                                              <span style="color:#080;font-style:italic"># 显示给定 node 的指标</span>
kubectl cluster-info                                                  <span style="color:#080;font-style:italic"># 显示 master 和 services 的地址</span>
kubectl cluster-info dump                                             <span style="color:#080;font-style:italic"># 将当前集群状态输出到标准输出</span>
kubectl cluster-info dump --output-directory<span style="color:#666">=</span>/path/to/cluster-state   <span style="color:#080;font-style:italic"># 将当前集群状态输出到 /path/to/cluster-state</span>

<span style="color:#080;font-style:italic"># 如果已存在具有该键和效果的污点，则其值将按指定替换</span>
kubectl taint nodes foo <span style="color:#b8860b">dedicated</span><span style="color:#666">=</span>special-user:NoSchedule</code></pre></div>
<!-- ### Resource types -->

<h3 id="资源类型">资源类型</h3>

<!-- List all supported resource types along with their shortnames, [API group](/docs/concepts/overview/kubernetes-api/#api-groups), whether they are [namespaced](/docs/concepts/overview/working-with-objects/namespaces), and [Kind](/docs/concepts/overview/working-with-objects/kubernetes-objects): -->

<p>列出全部支持的资源类型和它们的简称, <a href="/docs/concepts/overview/kubernetes-api/#api-groups">API group</a>, 无论它们是否是 <a href="/docs/concepts/overview/working-with-objects/namespaces">namespaced</a>, <a href="/docs/concepts/overview/working-with-objects/kubernetes-objects">Kind</a>。</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl api-resources</code></pre></div>
<!-- Other operations for exploring API resources: -->

<p>用于探索 API 资源的其他操作：</p>

<!-- ```bash
kubectl api-resources --namespaced=true      # All namespaced resources
kubectl api-resources --namespaced=false     # All non-namespaced resources
kubectl api-resources -o name                # All resources with simple output (just the resource name)
kubectl api-resources -o wide                # All resources with expanded (aka "wide") output
kubectl api-resources --verbs=list,get       # All resources that support the "list" and "get" request verbs
kubectl api-resources --api-group=extensions # All resources in the "extensions" API group
``` -->
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl api-resources --namespaced<span style="color:#666">=</span><span style="color:#a2f">true</span>      <span style="color:#080;font-style:italic"># 所有在命名空间中的资源</span>
kubectl api-resources --namespaced<span style="color:#666">=</span><span style="color:#a2f">false</span>     <span style="color:#080;font-style:italic"># 所有不在命名空间中的资源</span>
kubectl api-resources -o name                <span style="color:#080;font-style:italic"># 输出简单的所有资源（只是资源名称）</span>
kubectl api-resources -o wide                <span style="color:#080;font-style:italic"># 具有扩展（又称 &#34;wide&#34;）输出的所有资源</span>
kubectl api-resources --verbs<span style="color:#666">=</span>list,get       <span style="color:#080;font-style:italic"># 支持 &#34;list&#34; 和 &#34;get&#34; 请求动词的所有资源</span>
kubectl api-resources --api-group<span style="color:#666">=</span>extensions <span style="color:#080;font-style:italic"># &#34;extensions&#34; API 组中的所有资源</span></code></pre></div>
<!-- ### Formatting output -->

<h3 id="格式化输出">格式化输出</h3>

<!-- To output details to your terminal window in a specific format, you can add either the `-o` or `--output` flags to a supported `kubectl` command. -->

<p>要以特定格式将详细信息输出到终端窗口，可以将 <code>-o</code> 或 <code>--output</code> 参数添加到支持的 <code>kubectl</code> 命令。</p>

<!-- Output format | Description
--------------| -----------
`-o=custom-columns=<spec>` | Print a table using a comma separated list of custom columns
`-o=custom-columns-file=<filename>` | Print a table using the custom columns template in the `<filename>` file
`-o=json`     | Output a JSON formatted API object
`-o=jsonpath=<template>` | Print the fields defined in a [jsonpath](/docs/reference/kubectl/jsonpath) expression
`-o=jsonpath-file=<filename>` | Print the fields defined by the [jsonpath](/docs/reference/kubectl/jsonpath) expression in the `<filename>` file
`-o=name`     | Print only the resource name and nothing else
`-o=wide`     | Output in the plain-text format with any additional information, and for pods, the node name is included
`-o=yaml`     | Output a YAML formatted API object -->

<table>
<thead>
<tr>
<th>输出格式</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>-o=custom-columns=&lt;spec&gt;</code></td>
<td>使用逗号分隔的自定义列列表打印表格</td>
</tr>

<tr>
<td><code>-o=custom-columns-file=&lt;filename&gt;</code></td>
<td>使用 <code>&lt;filename&gt;</code> 文件中的自定义列模板打印表格</td>
</tr>

<tr>
<td><code>-o=json</code></td>
<td>输出 JSON 格式的 API 对象</td>
</tr>

<tr>
<td><code>-o=jsonpath=&lt;template&gt;</code></td>
<td>打印 <a href="/docs/reference/kubectl/jsonpath">jsonpath</a> 表达式中定义的字段</td>
</tr>

<tr>
<td><code>-o=jsonpath-file=&lt;filename&gt;</code></td>
<td>在 <code>&lt;filename&gt;</code> 文件中打印由 <a href="/docs/reference/kubectl/jsonpath">jsonpath</a> 表达式定义的字段。</td>
</tr>

<tr>
<td><code>-o=name</code></td>
<td>仅打印资源名称而不打印任何其他内容</td>
</tr>

<tr>
<td><code>-o=wide</code></td>
<td>使用任何其他信息以纯文本格式输出，对于 pod 来说，包含了节点名称</td>
</tr>

<tr>
<td><code>-o=yaml</code></td>
<td>输出 YAML 格式的 API 对象</td>
</tr>
</tbody>
</table>

<!-- ### Kubectl output verbosity and debugging -->

<h3 id="kubectl-日志输出详细程度和调试">Kubectl 日志输出详细程度和调试</h3>

<!-- Kubectl verbosity is controlled with the `-v` or `--v` flags followed by an integer representing the log level. General Kubernetes logging conventions and the associated log levels are described [here](https://github.com/kubernetes/community/blob/master/contributors/devel/sig-instrumentation/logging.md). -->

<p>Kubectl 日志输出详细程度是通过 <code>-v</code> 或者 <code>--v</code> 来控制的，参数后跟了一个数字表示日志的级别。Kubernetes 通用的日志习惯和相关的日志级别在 <a href="https://github.com/kubernetes/community/blob/master/contributors/devel/sig-instrumentation/logging.md" target="_blank">这里</a> 有相应的描述。</p>

<!-- Verbosity | Description
--------------| -----------
`--v=0` | Generally useful for this to *always* be visible to a cluster operator.
`--v=1` | A reasonable default log level if you don't want verbosity.
`--v=2` | Useful steady state information about the service and important log messages that may correlate to significant changes in the system. This is the recommended default log level for most systems.
`--v=3` | Extended information about changes.
`--v=4` | Debug level verbosity.
`--v=6` | Display requested resources.
`--v=7` | Display HTTP request headers.
`--v=8` | Display HTTP request contents.
`--v=9` | Display HTTP request contents without truncation of contents. -->

<table>
<thead>
<tr>
<th>详细程度</th>
<th>描述</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>--v=0</code></td>
<td>通常对此有用，*始终*对运维人员可见。</td>
</tr>

<tr>
<td><code>--v=1</code></td>
<td>如果您不想要详细程度，则为合理的默认日志级别。</td>
</tr>

<tr>
<td><code>--v=2</code></td>
<td>有关服务的有用稳定状态信息以及可能与系统中的重大更改相关的重要日志消息。这是大多数系统的建议默认日志级别。</td>
</tr>

<tr>
<td><code>--v=3</code></td>
<td>有关更改的扩展信息。</td>
</tr>

<tr>
<td><code>--v=4</code></td>
<td>Debug 级别。</td>
</tr>

<tr>
<td><code>--v=6</code></td>
<td>显示请求的资源。</td>
</tr>

<tr>
<td><code>--v=7</code></td>
<td>显示 HTTP 请求头。</td>
</tr>

<tr>
<td><code>--v=8</code></td>
<td>显示 HTTP 请求内容。</td>
</tr>

<tr>
<td><code>--v=9</code></td>
<td>显示 HTTP 请求内容而不截断内容。</td>
</tr>
</tbody>
</table>



<!-- ---
title: kubectl Cheat Sheet
reviewers:
- erictune
- krousey
- clove
content_template: templates/concept
card:
  name: reference
  weight: 30
--- -->










<h2 id="接下来">接下来</h2>
<!-- * Learn more about [Overview of kubectl](/docs/reference/kubectl/overview/).

* See [kubectl](/docs/reference/kubectl/kubectl/) options.

* Also [kubectl Usage Conventions](/docs/reference/kubectl/conventions/) to understand how to use it in reusable scripts.

* See more community [kubectl cheatsheets](https://github.com/dennyzhang/cheatsheet-kubernetes-A4). -->

<ul>
<li><p>学习更多关于 <a href="/docs/reference/kubectl/overview/">kubectl 概述</a>。</p></li>

<li><p>查看 <a href="/docs/reference/kubectl/kubectl/">kubectl</a> 选项.</p></li>

<li><p>也可以查看 <a href="/docs/reference/kubectl/conventions/">kubectl 使用约定</a> 来理解如果在可以复用的脚本中使用它。</p></li>

<li><p>查看更多社区 <a href="https://github.com/dennyzhang/cheatsheet-kubernetes-A4" target="_blank">kubectl 备忘单</a>。</p></li>
</ul>







    
            
  <h2>反馈</h2>
  <p class="feedback--prompt">此页是否对您有帮助？ </p>
  <button class="button feedback--yes">是</button>
  <button class="button feedback--no">否</button>
  <p class="feedback--response feedback--response__hidden">
    感谢反馈。如果您有一个关于如何使用 Kubernetes 的特定的、需要答案的问题，可以访问
    <a target="_blank" rel="noopener"
      href="https://stackoverflow.com/questions/tagged/kubernetes">
      Stack Overflow</a>.
    在 GitHub 仓库上登记新的问题
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">
      报告问题</a>
    或者
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">
      提出改进建议</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


    
            <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/reference/kubectl/cheatsheet.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/zh\/docs\/reference\/kubectl\/cheatsheet\/",
    "title" : "kubectl 备忘单",
    "permalink" : "https:\/\/kubernetes.io\/zh\/docs\/reference\/kubectl\/cheatsheet\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?template=bug-report.md&title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">报告 GitHub 问题</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/zh/docs/reference/kubectl/cheatsheet.md" class="button issue">修改本页面</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    页面最后一次修改于 February 25, 2020 at 2:42 PM PST 由：
    <a href="https://github.com/kubernetes/website/commit/3ecfc9f47fc99ec983bbaed54a36dcc32f1a9237/">Fix wrong CHANGELOG locations (#19089)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs/reference/kubectl/cheatsheet.md">页面历史</a>)
  </div>
  
</div>

          </div>
        </section>
    </main>
		<footer>
    <div class="light-text main-section">
        <nav>
            
            
            
            <a href="/zh/docs/home/">主页</a>
            
            <a href="/zh/blog/">博客</a>
            
            
            
            <a href="/zh/partners/">合作伙伴</a>
            
            <a href="/zh/community/">社区</a>
            
            <a href="/zh/case-studies/">案例分析</a>
            
        </nav>
        <div class="social" role="region" aria-label="Social hyperlinks">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="https://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>论坛</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>事件日历</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">贡献</a>
            </div>
        </div>
        <div class="miceType center">
            &copy; 2023 The Kubernetes 作者 | 文档发布基于 <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a> 授权许可</a>
        </div>
        <div class="miceType center">
            Copyright &copy; 2023 Linux 基金会&reg;。保留所有权利。Linux 基金会已注册并使用商标。如需了解 Linux 基金会的商标列表，请访问<a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">商标使用页面</a>
        </div>
        <div class="miceType center">
            ICP license: 京ICP备17074266号-3
        </div>
    </div>
</footer>

		<button class="flyout-button" onclick="kub.toggleToc()" aria-label="Toggle table of contents visibility"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



    <script language="application/javascript">
      
      (function addHeadingLinks(){
        var article = document.getElementById('docsContent');
        var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
        headings.forEach(function(heading){
          if(heading.id){
            var a = document.createElement('a');
            a.innerHTML = heading.innerHTML;
            a.href = '#'+heading.id;
            a.classList.add('inpage_heading');
            heading.innerHTML = '';
            heading.appendChild(a);
          }
        });
      })();
    </script>
	</body>
</html>
