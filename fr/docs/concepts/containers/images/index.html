<!DOCTYPE html>
<html id="docs" lang="fr" class="">
	<head>
	

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36037335-10"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36037335-10');
</script>
<meta charset="utf-8">
<title>Images - Kubernetes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#326ce5">
<link rel="shortcut icon" type="image/png" href="/images/favicon.png">









<link rel="stylesheet" href="/css/style.b7b8403eb5b1fddd0a2da2a8383d5b53e6ef81c23e4b0e292e6103bd91f9502d.css" integrity="sha256-t7hAPrWx/d0KLaKoOD1bU&#43;bvgcI&#43;Sw4pLmEDvZH5UC0=">


<link rel="stylesheet" href="/css/base_fonts.css">
<link rel="stylesheet" href="/css/jquery-ui.min.css">
<link rel="stylesheet" href="/css/callouts.css">
<link rel="stylesheet" href="/css/custom-jekyll/tags.css">



<meta name="description" content="Images conteneur Kubernetes">
<meta property="og:description" content="Images conteneur Kubernetes">
<meta name="twitter:description" content="Images conteneur Kubernetes">
<meta property="og:url" content="https://kubernetes.io/fr/docs/concepts/containers/images/">
<meta property="og:title" content="Images">
<meta name="twitter:title" content="Images">
<meta name="twitter:image" content="https://kubernetes.io/images/favicon.png" />

<meta name="twitter:image:alt" content="Kubernetes">

<meta property="og:image" content="/images/kubernetes-horizontal-color.png">

<meta property="og:type" content="article">
<script src="/js/anchor-4.1.1.min.js"></script>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/jquery-ui-1.12.1.min.js"></script>
<script src="/js/bootstrap-4.3.1.min.js"></script>
<script src="/js/sweetalert-2.1.2.min.js"></script>

<script src="/js/script.js"></script>
<script src="/js/custom-jekyll/tags.js"></script>


	</head>
	<body>
		<div id="cellophane" onclick="kub.toggleMenu()"></div>

<header>
    <a href="/fr/" class="logo" title="Solution professionnelle d’orchestration de conteneurs - Kubernetes" aria-label="Kubernetes website"></a>

    <div class="nav-buttons" data-auto-burger="primary">
        <ul class="global-nav">
            
            
            <li><a href="/fr/docs/" class="active">Documentation</a></li>
            
            <li><a href="/fr/blog/">Blog</a></li>
            
            
            
            <li><a href="/fr/partners/">Partenaires</a></li>
            
            <li><a href="/fr/community/">Communauté</a></li>
            
            <li><a href="/fr/case-studies/">Études de cas</a></li>
            
            
            
             <li>
                <a href="#">
                    Français <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="/docs/concepts/containers/images/">English</a></li>
                
                    <li><a href="/zh/docs/concepts/containers/images/">中文 Chinese</a></li>
                
                    <li><a href="/ko/docs/concepts/containers/images/">한국어 Korean</a></li>
                
                    <li><a href="/de/docs/concepts/containers/images/">Deutsch</a></li>
                
                </ul>
            </li>

            <li>
                <a href="#">
                    v1.17 <span class="ui-icon ui-icon-carat-1-s"></span>
                </a>
                <ul>
                
                    <li><a href="https://kubernetes.io/fr/docs/concepts/containers/images/">v1.21</a></li>
                
                    <li><a href="https://v1-20.docs.kubernetes.io/fr/docs/concepts/containers/images/">v1.20</a></li>
                
                    <li><a href="https://v1-19.docs.kubernetes.io/fr/docs/concepts/containers/images/">v1.19</a></li>
                
                    <li><a href="https://v1-18.docs.kubernetes.io/fr/docs/concepts/containers/images/">v1.18</a></li>
                
                    <li><a href="https://v1-17.docs.kubernetes.io/fr/docs/concepts/containers/images/">v1.17</a></li>
                
                </ul>
            </li>
        </ul>
        
        <a href="/fr/docs/tutorials/kubernetes-basics/" class="button" id="tryKubernetes" data-auto-burger-exclude>Apprendre les bases de Kubernetes</a>
        

        <button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
    </div>

    <nav id="mainNav">
        <div class="main-section" data-auto-burger="primary">
         
           <div class="nav-box">
            <h3><a href="/fr/docs/tutorials/hello-minikube/">Démarrer</a></h3>
           <p>Prêt à mettre les mains dans le cambouis ? Créez un cluster Kubernetes simple qui exécute "Hello World" avec Node.js.</p>>.

            </div>
         
           <div class="nav-box">
            <h3><a href="/fr/docs/home/">Documentation</a></h3>
           <p>Apprenez à utiliser Kubernetes à l'aide d'une documentation conceptuelle, didactique et de référence. Vous pouvez même <a href="/editdocs/" data-auto-burger-exclude>aider en contribuant à la documentation</a>!</p>

            </div>
         
           <div class="nav-box">
            <h3><a href="/fr/blog/">Blog</a></h3>
           <p>Lisez les dernières nouvelles à propos de Kubernetes et des conteneurs en général. Obtenez les derniers tutoriels techniques.</p>

            </div>
         
        </div>
        <div class="main-section" data-auto-burger="primary">
            <div class="left">
                <h5 class="github-invite">Souhaitez vous contribuer au code de Kubernetes ?</h5>
                <a href="https://github.com/kubernetes/kubernetes" class="button" data-auto-burger-exclude>Voir sur GitHub</a>
            </div>

            <div class="right">
                <h5 class="github-invite">Explorez la communauté</h5>
                <div class="social">
                    <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                    <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                    <a href="http://slack.k8s.io/" class="slack"><span>Slack Slack</span></a>
                    <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                    <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                    <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                    <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Calendrier</span></a>
                </div>
            </div>
            <div class="clear" style="clear: both"></div>
        </div>
    </nav>
</header>

		
		
		<section id="hero" class="light-text no-sub">
			









<h1>Concepts</h1>
<h5></h5>










<div id="vendorStrip" class="light-text">
	<ul>
		
		
		<li><a href="/fr/docs/home/">ACCUEIL</a></li>
		
		
		<li><a href="/fr/docs/setup/">INSTALLATION</a></li>
		
		
		<li><a href="/fr/docs/concepts/" class="YAH">CONCEPTS</a></li>
		
		
		<li><a href="/fr/docs/tasks/">TÂCHES</a></li>
		
		
		<li><a href="/fr/docs/tutorials/">TUTORIELS</a></li>
		
		
		<li><a href="/fr/docs/reference/">RÉFÉRENCE</a></li>
		
		
		<li><a href="/fr/docs/contribute/">CONTRIBUER</a></li>
		
	</ul>
	<form id="searchBox" action="/docs/search/" role="search">
		<input type="text" id="search" name="q" placeholder="Recherche" aria-label="Search">
	</form>
</div>

		</section>
		
    
		
<section id="deprecationWarning">
  <main>
    <div class="content deprecation-warning">
      <h3>
	 Kubernetes v1.17
	  documentation non maintenue. Vous consultez une version statique. Pour une documentation à jour, veuillez consulter: 
	 <a href="https://kubernetes.io/docs/home/">dernière version.</a>
      </h3>
    </div>
  </main>
</section>


    <main>
        <section id="encyclopedia">
          
<div id="docsToc">
     <div class="pi-accordion">
    	
        
        
        
        
        
         
             
                 
             
         
             
                 
             
         
             
                 
                          
                          
                 
             
         
             
         
             
         
             
         
             
         
             
         
         
        
        <a class="item" data-title="Concepts" href="/fr/docs/concepts/"></a>

	
	
			
			
			
			
			
		
	
	
	
		
			
<div class="item" data-title="Vue d&#39;ensemble">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Qu&#39;est-ce-que Kubernetes ?" href="/fr/docs/concepts/overview/what-is-kubernetes/"></a>

		
	
		
			

<a class="item" data-title="Composants de Kubernetes" href="/fr/docs/concepts/overview/components/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="The Kubernetes API <small>(EN)</small>" href="/docs/concepts/overview/kubernetes-api/"></a>

		
	
		
			
<div class="item" data-title="Utilisation des objets Kubernetes">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Understanding Kubernetes Objects <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/kubernetes-objects/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Kubernetes Object Management <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/object-management/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Object Names and IDs <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/names/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Namespaces <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/namespaces/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Labels and Selectors <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/labels/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Annotations <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/annotations/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Field Selectors <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/field-selectors/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Recommended Labels <small>(EN)</small>" href="/docs/concepts/overview/working-with-objects/common-labels/"></a>

		
	

	</div>
</div>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Architecture de Kubernetes">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Noeuds" href="/fr/docs/concepts/architecture/nodes/"></a>

		
	
		
			

<a class="item" data-title="Communication Master-Node" href="/fr/docs/concepts/architecture/master-node-communication/"></a>

		
	
		
			

<a class="item" data-title="Concepts sous-jacents au Cloud Controller Manager" href="/fr/docs/concepts/architecture/cloud-controller/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Controllers <small>(EN)</small>" href="/docs/concepts/architecture/controller/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Les conteneurs">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Containers overview <small>(EN)</small>" href="/docs/concepts/containers/overview/"></a>

		
	
		
			

<a class="item" data-title="Images" href="/fr/docs/concepts/containers/images/"></a>

		
	
		
			

<a class="item" data-title="Classe d&#39;exécution (Runtime Class)" href="/fr/docs/concepts/containers/runtime-class/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Container Environment <small>(EN)</small>" href="/docs/concepts/containers/container-environment/"></a>

		
	
		
			

<a class="item" data-title="Les variables d’environnement du conteneur" href="/fr/docs/concepts/containers/container-environment-variables/"></a>

		
	
		
			

<a class="item" data-title="Hooks de cycle de vie de conteneurs" href="/fr/docs/concepts/containers/container-lifecycle-hooks/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Workloads">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			
<div class="item" data-title="Pods">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Aperçu du Pod" href="/fr/docs/concepts/workloads/pods/pod-overview/"></a>

		
	
		
			

<a class="item" data-title="Pods" href="/fr/docs/concepts/workloads/pods/pod/"></a>

		
	
		
			

<a class="item" data-title="Cycle de vie d&#39;un Pod" href="/fr/docs/concepts/workloads/pods/pod-lifecycle/"></a>

		
	
		
			

<a class="item" data-title="Init Containers" href="/fr/docs/concepts/workloads/pods/init-containers/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Pod Preset <small>(EN)</small>" href="/docs/concepts/workloads/pods/podpreset/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Pod Topology Spread Constraints <small>(EN)</small>" href="/docs/concepts/workloads/pods/pod-topology-spread-constraints/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Disruptions <small>(EN)</small>" href="/docs/concepts/workloads/pods/disruptions/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Ephemeral Containers <small>(EN)</small>" href="/docs/concepts/workloads/pods/ephemeral-containers/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Contrôleurs">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="ReplicaSet" href="/fr/docs/concepts/workloads/controllers/replicaset/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="ReplicationController <small>(EN)</small>" href="/docs/concepts/workloads/controllers/replicationcontroller/"></a>

		
	
		
			

<a class="item" data-title="Déploiements" href="/fr/docs/concepts/workloads/controllers/deployment/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="StatefulSets <small>(EN)</small>" href="/docs/concepts/workloads/controllers/statefulset/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="DaemonSet <small>(EN)</small>" href="/docs/concepts/workloads/controllers/daemonset/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Garbage Collection <small>(EN)</small>" href="/docs/concepts/workloads/controllers/garbage-collection/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="TTL Controller for Finished Resources <small>(EN)</small>" href="/docs/concepts/workloads/controllers/ttlafterfinished/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Jobs - Run to Completion <small>(EN)</small>" href="/docs/concepts/workloads/controllers/jobs-run-to-completion/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="CronJob <small>(EN)</small>" href="/docs/concepts/workloads/controllers/cron-jobs/"></a>

		
	

	</div>
</div>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Services, Equilibreur de charge, et Réseau">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="EndpointSlices <small>(EN)</small>" href="/docs/concepts/services-networking/endpoint-slices/"></a>

		
	
		
			

<a class="item" data-title="Service" href="/fr/docs/concepts/services-networking/service/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Service Topology <small>(EN)</small>" href="/docs/concepts/services-networking/service-topology/"></a>

		
	
		
			

<a class="item" data-title="DNS pour les services et les pods" href="/fr/docs/concepts/services-networking/dns-pod-service/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Connecting Applications with Services <small>(EN)</small>" href="/docs/concepts/services-networking/connect-applications-service/"></a>

		
	
		
			

<a class="item" data-title="Ingress" href="/fr/docs/concepts/services-networking/ingress/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Ingress Controllers <small>(EN)</small>" href="/docs/concepts/services-networking/ingress-controllers/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Network Policies <small>(EN)</small>" href="/docs/concepts/services-networking/network-policies/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Adding entries to Pod /etc/hosts with HostAliases <small>(EN)</small>" href="/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="IPv4/IPv6 dual-stack <small>(EN)</small>" href="/docs/concepts/services-networking/dual-stack/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Stockage">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Volumes" href="/fr/docs/concepts/storage/volumes/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Volume Snapshots <small>(EN)</small>" href="/docs/concepts/storage/volume-snapshots/"></a>

		
	
		
			

<a class="item" data-title="Volumes persistants" href="/fr/docs/concepts/storage/persistent-volumes/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="CSI Volume Cloning <small>(EN)</small>" href="/docs/concepts/storage/volume-pvc-datasource/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Storage Classes <small>(EN)</small>" href="/docs/concepts/storage/storage-classes/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Volume Snapshot Classes <small>(EN)</small>" href="/docs/concepts/storage/volume-snapshot-classes/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Dynamic Volume Provisioning <small>(EN)</small>" href="/docs/concepts/storage/dynamic-provisioning/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Node-specific Volume Limits <small>(EN)</small>" href="/docs/concepts/storage/storage-limits/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Configuration">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Configuration Best Practices <small>(EN)</small>" href="/docs/concepts/configuration/overview/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Resource Bin Packing for Extended Resources <small>(EN)</small>" href="/docs/concepts/configuration/resource-bin-packing/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Managing Compute Resources for Containers <small>(EN)</small>" href="/docs/concepts/configuration/manage-compute-resources-container/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Pod Overhead <small>(EN)</small>" href="/docs/concepts/configuration/pod-overhead/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Assigning Pods to Nodes <small>(EN)</small>" href="/docs/concepts/configuration/assign-pod-node/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Taints and Tolerations <small>(EN)</small>" href="/docs/concepts/configuration/taint-and-toleration/"></a>

		
	
		
			

<a class="item" data-title="Secrets" href="/fr/docs/concepts/configuration/secret/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Organizing Cluster Access Using kubeconfig Files <small>(EN)</small>" href="/docs/concepts/configuration/organize-cluster-access-kubeconfig/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Pod Priority and Preemption <small>(EN)</small>" href="/docs/concepts/configuration/pod-priority-preemption/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Scheduling Framework <small>(EN)</small>" href="/docs/concepts/configuration/scheduling-framework/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Sécurité">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Overview of Cloud Native Security <small>(EN)</small>" href="/docs/concepts/security/overview/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Politiques">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Limit Ranges <small>(EN)</small>" href="/docs/concepts/policy/limit-range/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Resource Quotas <small>(EN)</small>" href="/docs/concepts/policy/resource-quotas/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Pod Security Policies <small>(EN)</small>" href="/docs/concepts/policy/pod-security-policy/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Scheduling">
	<div class="container">
		
		
	
	
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Kubernetes Scheduler <small>(EN)</small>" href="/docs/concepts/scheduling/kube-scheduler/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Scheduler Performance Tuning <small>(EN)</small>" href="/docs/concepts/scheduling/scheduler-perf-tuning/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Administration d&#39;un cluster">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" data-title="Vue d&#39;ensemble de l&#39;administration d&#39;un cluster" href="/fr/docs/concepts/cluster-administration/cluster-administration-overview/"></a>

		
	
		
			

<a class="item" data-title="Certificats" href="/fr/docs/concepts/cluster-administration/certificates/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Cloud Providers <small>(EN)</small>" href="/docs/concepts/cluster-administration/cloud-providers/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Managing Resources <small>(EN)</small>" href="/docs/concepts/cluster-administration/manage-deployment/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Cluster Networking <small>(EN)</small>" href="/docs/concepts/cluster-administration/networking/"></a>

		
	
		
			

<a class="item" data-title="Architecture de Journalisation d&#39;évènements (logging)" href="/fr/docs/concepts/cluster-administration/logging/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Metrics For The Kubernetes Control Plane <small>(EN)</small>" href="/docs/concepts/cluster-administration/monitoring/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Configuring kubelet Garbage Collection <small>(EN)</small>" href="/docs/concepts/cluster-administration/kubelet-garbage-collection/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Proxies in Kubernetes <small>(EN)</small>" href="/docs/concepts/cluster-administration/proxies/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Installing Addons <small>(EN)</small>" href="/docs/concepts/cluster-administration/addons/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Extensions Kubernetes">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Extending your Kubernetes Cluster <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/extend-cluster/"></a>

		
	
		
			
<div class="item" data-title="Extensions de l&#39;API Kubernetes">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Custom Resources <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/api-extension/custom-resources/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Extending the Kubernetes API with the aggregation layer <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/api-extension/apiserver-aggregation/"></a>

		
	

	</div>
</div>

		
	
		
			
<div class="item" data-title="Extensions compute, stockage et réseau">
	<div class="container">
		
		
	
	
			
			
			
			
			
		
	
	
	
		
			

<a class="item" target="_blank" data-title="Network Plugins <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Device Plugins <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/"></a>

		
	

	</div>
</div>

		
	
		
			

<a class="item" target="_blank" data-title="Operator pattern <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/operator/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Service Catalog <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/service-catalog/"></a>

		
	
		
			

<a class="item" target="_blank" data-title="Poseidon-Firmament Scheduler <small>(EN)</small>" href="/docs/concepts/extend-kubernetes/poseidon-firmament-alternate-scheduler/"></a>

		
	

	</div>
</div>

		
	





     </div> 
    <button class="push-menu-close-button" onclick="kub.toggleToc()"></button>
</div> 


          <div id="docsContent">
            

<p>
  <a href="https://github.com/kubernetes/website/edit/master/content/fr/docs/concepts/containers/images.md" id="editPageButton" target="_blank">
    Edit This Page
  </a>
</p>

<h1>Images</h1>



<p>Vous créez une image Docker et la poussez dans un registre avant de la référencer depuis un pod Kubernetes.</p>

<p>La propriété <code>image</code> d&rsquo;un conteneur utilise la même syntaxe que la commande <code>docker</code>, y compris pour les registres privés et les tags.</p>









<ul id="markdown-toc">










<li><a href="#mettre-%c3%a0-jour-des-images">Mettre à jour des images</a></li>




<li><a href="#cr%c3%a9er-des-images-multi-architecture-%c3%a0-partir-de-manifestes">Créer des images multi-architecture à partir de manifestes</a></li>




<li><a href="#utiliser-un-registre-priv%c3%a9">Utiliser un registre privé</a></li>



















</ul>


<h2 id="mettre-à-jour-des-images">Mettre à jour des images</h2>

<p>La politique de récupération par défaut est <code>IfNotPresent</code>, Kubelet ne récupère alors pas une image si elle est déjà présente sur le nœud.
Si vous voulez forcer une récupération à chaque fois, vous pouvez faire une des actions suivantes :</p>

<ul>
<li>définissez <code>imagePullPolicy</code> du conteneur à <code>Always</code>.</li>
<li>omettez <code>imagePullPolicy</code> et utilisez <code>:latest</code> comme tag pour l&rsquo;image à utiliser.</li>
<li>omettez <code>imagePullPolicy</code> et le tag de l&rsquo;image à utiliser.</li>
<li>activez l&rsquo;admission controller <a href="/docs/reference/access-authn-authz/admission-controllers/#alwayspullimages">AlwaysPullImages</a>.</li>
</ul>

<p>Notez que vous devez éviter d&rsquo;utiliser le tag <code>:latest</code>, voir <a href="/docs/concepts/configuration/overview/#container-images">Bonnes pratiques pour la configuration</a> pour plus d&rsquo;informations.</p>

<h2 id="créer-des-images-multi-architecture-à-partir-de-manifestes">Créer des images multi-architecture à partir de manifestes</h2>

<p>La CLI Docker prend maintenant en charge la commande <code>docker manifest</code> avec des sous-commandes comme <code>create</code>, <code>annotate</code> et <code>push</code>. Ces commandes peuvent être utilisées pour construire et pousser les manifestes. Vous pouvez utiliser <code>docker manifest inspect</code> pour voir le manifeste.</p>

<p>Vous pouvez voir la documentation Docker ici :
<a href="https://docs.docker.com/edge/engine/reference/commandline/manifest/" target="_blank">https://docs.docker.com/edge/engine/reference/commandline/manifest/</a></p>

<p>Voici comment nous l&rsquo;utilisons dans notre outil de build:
<a href="https://cs.k8s.io/?q=docker%20manifest%20(create%7Cpush%7Cannotate)&amp;i=nope&amp;files=&amp;repos=" target="_blank">https://cs.k8s.io/?q=docker%20manifest%20(create%7Cpush%7Cannotate)&amp;i=nope&amp;files=&amp;repos=</a></p>

<p>Ces commandes se basent et sont implémentées purement sur la CLI Docker. Vous devrez soit éditer <code>$HOME/.docker/config.json</code> et définir la clé <code>experimental</code> à <code>enabled</code> ou vous pouvez simplement définir la variable d&rsquo;environnement <code>DOCKER_CLI_EXPERIMENTAL</code> à <code>enabled</code> lorsque vous appelez les commandes de la CLI.</p>

<blockquote class="note">
  <div><strong>Note:</strong> Veuillez utiliser les versions <em>18.06 ou ultérieure</em>, les versions antérieures ayant des bugs ou ne prenant pas en charge l&rsquo;option <code>experimental</code> pour la ligne de commande. Par exemple <a href="https://github.com/docker/cli/issues/1135" target="_blank">https://github.com/docker/cli/issues/1135</a> cause des problèmes sous <code>containerd</code>.</div>
</blockquote>

<p>Si vous avez des problèmes en téléchargeant des manifestes viciés, nettoyez les anciens manifestes dans <code>$HOME/.docker/manifests</code> pour recommencer de zéro.</p>

<p>Pour Kubernetes, nous avons historiquement utilisé des images avec des suffixes <code>-$(ARCH)</code>. Pour une rétrocompatibilité, veuillez générer les anciennes images avec des suffixes. Par exemple, l&rsquo;image <code>pause</code> qui a le manifeste pour toutes les architetures et l&rsquo;image <code>pause-amd64</code> qui est rétrocompatible
pour d&rsquo;anciennes configurations ou des fichiers YAML qui auraient codé en dur les images avec des suffixes.</p>

<h2 id="utiliser-un-registre-privé">Utiliser un registre privé</h2>

<p>Les registres privés peuvent demander des clés pour pouvoir lire leurs images.</p>

<p>Ces certificats peuvent être fournis de différentes manières :</p>

<ul>
<li>En utilisant la Google Container Registry

<ul>
<li>par cluster</li>
<li>automatiqueent configuré dans Google Compute Engine ou Google Kubernetes Engine</li>
<li>tous les pods peuvent lire le registre privé du projet</li>
</ul></li>
<li>En utilisant Amazon Elastic Container Registry (ECR)

<ul>
<li>utilise des rôles et politiques IAM pour contrôler l&rsquo;accès aux dépôts ECR</li>
<li>rafraîchit automatiquement les certificats de login ECR</li>
</ul></li>
<li>En utilisant Oracle Cloud Infrastructure Registry (OCIR)

<ul>
<li>utilisez les rôles et politiques IAM pour contrôler l&rsquo;accès aux dépôts OCIR</li>
</ul></li>
<li>En utilisant Azure Container Registry (ACR)</li>
<li>En utilisant IBM Cloud Container Registry</li>
<li>En configurant les nœuds pour s&rsquo;authentifier auprès d&rsquo;un registre privé

<ul>
<li>tous les pods peuvent lire les registres privés configurés</li>
<li>nécessite la configuration des nœuds par un administrateur du cluster</li>
</ul></li>
<li>En utilisant des images pré-chargées

<ul>
<li>tous les pods peuvent utiliser toutes les images mises en cache sur un nœud</li>
<li>nécessite l&rsquo;accès root à tous les nœuds pour la mise en place</li>
</ul></li>
<li>En spécifiant ImagePullSecrets dans un Pod

<ul>
<li>seuls les pods fournissant ses propres clés peuvent accéder au registre privé</li>
</ul></li>
</ul>

<p>Chaque option est décrite plus en détails ci-dessous.</p>

<h3 id="utiliser-la-google-container-registry">Utiliser la Google Container Registry</h3>

<p>Kubernetes prend en charge nativement la <a href="https://cloud.google.com/tools/container-registry/" target="_blank">Google Container
Registry (GCR)</a>, lorsqu&rsquo;il s&rsquo;exécute dans Google Compute
Engine (GCE). Si vous exécutez votre cluster dans GCE ou Google Kubernetes Engine, utilisez simplement le nom complet de l&rsquo;image (par ex. gcr.io/my_project/image:tag).</p>

<p>Tous les pods dans un cluster auront un accès en lecture aux images dans le registre.</p>

<p>Kubelet va s&rsquo;authentifier auprès de GCR en utilisant le compte de service Google de l&rsquo;instance.
Le compte de service dans l&rsquo;instance aura un <code>https://www.googleapis.com/auth/devstorage.read_only</code>,
afin qu&rsquo;il puisse récupérer depuis le GCR du projet mais qu&rsquo;il ne puisse pas pousser une image.</p>

<h3 id="utiliser-amazon-elastic-container-registry">Utiliser Amazon Elastic Container Registry</h3>

<p>Kubernetes prend en charge nativement <a href="https://aws.amazon.com/ecr/" target="_blank">Amazon Elastic Container Registry</a>, lorsque les nœuds sont des instances de AWS EC2.</p>

<p>Utilisez simplement le nom complet de l&rsquo;image (par ex. <code>ACCOUNT.dkr.ecr.REGION.amazonaws.com/imagename:tag</code>)
dans la définition du Pod.</p>

<p>Tous les utilisateurs du cluster qui peuvent créer des pods auront la possibilité
d&rsquo;exécuter des pods qui utilisent n&rsquo;importe quelle image du registre ECR.</p>

<p>Kubelet va aller chercher et rafraîchir périodiquement les certificats ECR.  Les permissions suivantes sont requises par kubelet :</p>

<ul>
<li><code>ecr:GetAuthorizationToken</code></li>
<li><code>ecr:BatchCheckLayerAvailability</code></li>
<li><code>ecr:GetDownloadUrlForLayer</code></li>
<li><code>ecr:GetRepositoryPolicy</code></li>
<li><code>ecr:DescribeRepositories</code></li>
<li><code>ecr:ListImages</code></li>
<li><code>ecr:BatchGetImage</code></li>
</ul>

<p>Exigences :</p>

<ul>
<li>Vous devez utiliser kubelet version <code>v1.2.0</code> ou ultérieure.  (exécutez par ex. <code>/usr/bin/kubelet --version=true</code>).</li>
<li>Si vos nœuds sont dans une région différente de votre registre, vous devez utiliser la version <code>v1.3.0</code> ou ultérieure.</li>
<li>ECR doit être disponible dans votre région.</li>
</ul>

<p>Dépannage :</p>

<ul>
<li>Vérifiez toutes les exigences ci-dessus.</li>
<li>Copiez les certificats de $REGION (par ex. <code>us-west-2</code>) sur votre poste de travail. Connectez-vous en SSH sur l&rsquo;hôte et exécutez Docker manuellement avec ces certificats. Est-ce que ça marche ?</li>
<li>Vérifiez que kubelet s&rsquo;exécute avec <code>--cloud-provider=aws</code>.</li>
<li>Recherchez dans les logs de kubelet (par ex. <code>journalctl -u kubelet</code>) des lignes de logs ressemblant à :

<ul>
<li><code>plugins.go:56] Registering credential provider: aws-ecr-key</code></li>
<li><code>provider.go:91] Refreshing cache for provider: *aws_credentials.ecrProvider</code></li>
</ul></li>
</ul>

<h3 id="utiliser-azure-container-registry-acr">Utiliser Azure Container Registry (ACR)</h3>

<p>En utilisant <a href="https://azure.microsoft.com/en-us/services/container-registry/" target="_blank">Azure Container Registry</a>
vous pouvez vous authentifier en utilisant soit un utilisateur admin soit un service principal.
Dans les deux cas, l&rsquo;authentification est faite via l&rsquo;authentification standard de Docker. Ces instructions assument l&rsquo;outil en ligne de commande <a href="https://github.com/azure/azure-cli" target="_blank">azure-cli</a>.</p>

<p>Vous devez d&rsquo;abord créer un registre et générer des certificats, la documentation complète pour cela peut être touvée dans la <a href="https://docs.microsoft.com/en-us/azure/container-registry/container-registry-get-started-azure-cli" target="_blank">documentation de Azure container registry</a>.</p>

<p>Une fois votre registre de conteneurs créé, vous utiliserez les certificats suivants pour vous connecter :</p>

<ul>
<li><code>DOCKER_USER</code> : service principal ou utilisateur admin</li>
<li><code>DOCKER_PASSWORD</code>: mot de passe du service principal ou utilisateur admin</li>
<li><code>DOCKER_REGISTRY_SERVER</code>: <code>${un-nom-de-registre}.azurecr.io</code></li>
<li><code>DOCKER_EMAIL</code>: <code>${une-adresse-email}</code></li>
</ul>

<p>Une fois que vous avez défini ces variables, vous pouvez
<a href="/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod">configurer un Secret Kubernetes et l&rsquo;utiliser pour déployer un Pod</a>.</p>

<h3 id="utiliser-ibm-cloud-container-registry">Utiliser IBM Cloud Container Registry</h3>

<p>IBM Cloud Container Registry fournit un registre d&rsquo;images multi-tenant privé que vous pouvez utiliser pour stocker et partager de manière sécurisée vos images Docker. Par défaut, les images de votre registre privé sont scannées par le Vulnerability Advisor intégré pour détecter des failles de sécurité et des vulnérabilités potentielles. Les utilisateurs de votre compte IBM Cloud peuvent accéder à vos images, ou vous pouvez créer un token pour garantir l&rsquo;accès à des namespaces du registre.</p>

<p>Pour installer le plugin du CLI de IBM Cloud Container Registry et créer un namespace pour vos images, voir <a href="https://cloud.ibm.com/docs/services/Registry?topic=registry-getting-started" target="_blank">Débuter avec IBM Cloud Container Registry</a>.</p>

<p>Vous pouvez utiliser le IBM Cloud Container Registry pour déployer des conteneurs depuis des <a href="https://cloud.ibm.com/docs/services/Registry?topic=registry-public_images" target="_blank">images publiques de IBM Cloud</a> et vos images privées dans le namespace <code>default</code> de votre cluster IBM Cloud Kubernetes Service. Pour déployer un conteneur dans d&rsquo;autres namespaces, ou pour utiliser une image d&rsquo;une autre région de IBM Cloud Container Registry ou d&rsquo;un autre compte IBM Cloud, créez un <code>imagePullSecret</code> Kubernetes. Pour plus d&rsquo;informations, voir <a href="https://cloud.ibm.com/docs/containers?topic=containers-images#images" target="_blank">Construire des conteneurs à partir d&rsquo;images</a>.</p>

<h3 id="configurer-les-nœuds-pour-s-authentifier-auprès-d-un-registre-privé">Configurer les nœuds pour s&rsquo;authentifier auprès d&rsquo;un registre privé</h3>

<blockquote class="note">
  <div><strong>Note:</strong> Si vous travaillez dans Google Kubernetes Engine, vous trouverez un <code>.dockercfg</code> sur chaque nœud avec les certificats pour Google Container Registry. Vous ne pourrez pas utiliser cette méthode.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> Si vous travaillez dans AWS EC2 et utilisez EC2 Container Registry (ECR), kubelet sur chaque nœud va gérer et mettre à jour les certificats du login ECR. Vous ne pourrez pas utiliser cette méthode.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> Cette méthode est utilisable si vous avez le contrôle sur la configuration des nœuds. Elle ne marchera pas
correctement sur GCE, et sur tout autre fournisseur cloud qui fait du remplacement de nœud automatique.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> Kubernetes prend pour l&rsquo;instant en charge uniquement les sections <code>auths</code> et <code>HttpHeaders</code> de la config docker. Cela veut dire que les aides aux certificats (<code>credHelpers</code> ou <code>credsStore</code>) ne sont pas pris en charge.</div>
</blockquote>

<p>Docker stocke les clés pour les regisres privés dans le fichier <code>$HOME/.dockercfg</code> ou <code>$HOME/.docker/config.json</code>.  Si vous placez le même fichier dans un des chemins de recherche ci-dessous, kubelet l&rsquo;utilise comme fournisseur de clés lorsque les images sont récupérées.</p>

<ul>
<li><code>{--root-dir:-/var/lib/kubelet}/config.json</code></li>
<li><code>{cwd of kubelet}/config.json</code></li>
<li><code>${HOME}/.docker/config.json</code></li>
<li><code>/.docker/config.json</code></li>
<li><code>{--root-dir:-/var/lib/kubelet}/.dockercfg</code></li>
<li><code>{cwd of kubelet}/.dockercfg</code></li>
<li><code>${HOME}/.dockercfg</code></li>
<li><code>/.dockercfg</code></li>
</ul>

<blockquote class="note">
  <div><strong>Note:</strong> Vous pouvez avoir à définir <code>HOME=/root</code> explicitement dans votre fichier d&rsquo;environnement pour kubelet.</div>
</blockquote>

<p>Voici les étapes recommandées pour configurer vos nœuds pour qu&rsquo;ils utilisent un registre privé. Dans cet exemple, exécutez-les sur votre poste de travail :</p>

<ol>
<li>Exécutez <code>docker login [server]</code> pour chaque jeu de certificats que vous désirez utiliser.  Ceci met à jour <code>$HOME/.docker/config.json</code>.</li>
<li>Examinez <code>$HOME/.docker/config.json</code> dans un éditeur pour vous assurer qu&rsquo;il contient uniquement les certificats que vous désirez utiliser.</li>
<li>Récupérez la liste de vos nœuds, par exemple :

<ul>
<li>si vous voulez connaître les noms : <code>nodes=$(kubectl get nodes -o jsonpath='{range.items[*].metadata}{.name} {end}')</code></li>
<li>si vous voulez connaître les IPs : <code>nodes=$(kubectl get nodes -o jsonpath='{range .items[*].status.addresses[?(@.type==&quot;ExternalIP&quot;)]}{.address} {end}')</code></li>
</ul></li>
<li>Copiez votre fichier <code>.docker/config.json</code> local dans un des chemins de recherche ci-dessus.

<ul>
<li>par exemple : <code>for n in $nodes; do scp ~/.docker/config.json root@$n:/var/lib/kubelet/config.json; done</code></li>
</ul></li>
</ol>

<p>Vérifiez en créant un pod utilisant une image privée, par ex. :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl apply -f - <span style="color:#b44">&lt;&lt;EOF
</span><span style="color:#b44">apiVersion: v1
</span><span style="color:#b44">kind: Pod
</span><span style="color:#b44">metadata:
</span><span style="color:#b44">  name: test-image-privee-1
</span><span style="color:#b44">spec:
</span><span style="color:#b44">  containers:
</span><span style="color:#b44">    - name: utilise-image-privee
</span><span style="color:#b44">      image: $NOM_IMAGE_PRIVEE
</span><span style="color:#b44">      imagePullPolicy: Always
</span><span style="color:#b44">      command: [ &#34;echo&#34;, &#34;SUCCESS&#34; ]
</span><span style="color:#b44">EOF</span>
pod/test-image-privee-1 created</code></pre></div>
<p>Si tout fonctionne, alors, après quelques instants, vous devriez voir :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl logs test-image-privee-1
SUCCESS</code></pre></div>
<p>En cas de problèmes, vous verrez :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl describe pods/test-image-privee-1 | grep <span style="color:#b44">&#34;Failed&#34;</span>
  Fri, <span style="color:#666">26</span> Jun <span style="color:#666">2015</span> <span style="color:#666">15</span>:36:13 -0700    Fri, <span style="color:#666">26</span> Jun <span style="color:#666">2015</span> <span style="color:#666">15</span>:39:13 -0700    <span style="color:#666">19</span>    <span style="color:#666">{</span>kubelet node-i2hq<span style="color:#666">}</span>    spec.containers<span style="color:#666">{</span>uses-private-image<span style="color:#666">}</span>    failed        Failed to pull image <span style="color:#b44">&#34;user/privaterepo:v1&#34;</span>: Error: image user/privaterepo:v1 not found</code></pre></div>
<p>Vous devez vous assurer que tous les nœuds du cluster ont le même fichier <code>.docker/config.json</code>.  Dans le cas contraire, les pods vont s&rsquo;exécuter sur certains nœuds et échouer sur d&rsquo;autres. Par exemple, si vous utilisez l&rsquo;autoscaling des nœuds, alors chaque modèle d&rsquo;instance doit inclure le fichier <code>.docker/config.json</code> ou monter un disque le contenant.</p>

<p>Tous les pods auront un accès en lecture aux images d&rsquo;un registre privé dès que les clés du registre privé sont ajoutées au fichier <code>.docker/config.json</code>.</p>

<h3 id="images-pré-chargées">Images pré-chargées</h3>

<blockquote class="note">
  <div><strong>Note:</strong> Si vous travaillez dans Google Kubernetes Engine, vous trouverez un <code>.dockercfg</code> sur chaque nœud avec les certificats pour Google Container Registry. Vous ne pourrez pas utiliser cette méthode.</div>
</blockquote>

<blockquote class="note">
  <div><strong>Note:</strong> Cette méthode est utilisable si vous avez le contrôle sur la configuration des nœuds. Elle ne marchera pas
correctement sur GCE, et sur tout autre fournisseur cloud qui fait du remplacement de nœud automatique.</div>
</blockquote>

<p>Par défaut, kubelet essaiera de récupérer chaque image depuis le registre spécifié.
Cependant, si la propriété <code>imagePullPolicy</code> du conteneur est <code>IfNotPresent</code> ou <code>Never</code>,
alors une image locale est utilisée (respectivement de préférence ou exclusivement).</p>

<p>Si vous désirez vous reposer sur des images pré-chargées pour éviter l&rsquo;authentification à un registre,
vous devez vous assurer que tous les nœuds du cluster ont les mêmes images pré-chargées.</p>

<p>Ceci peut être utilisé pour pré-charger certaines images pour gagner du temps, ou comme une alternative à l&rsquo;authentification à un registre privé.</p>

<p>Tous les pods auront un accès en lecture aux images pré-chargées.</p>

<h3 id="spécifier-imagepullsecrets-dans-un-pod">Spécifier ImagePullSecrets dans un Pod</h3>

<blockquote class="note">
  <div><strong>Note:</strong> Cette méthode est actuellement la méthode recommandée pour Google Kubernetes Engine, GCE, et tout autre fournisseur de cloud où la création de nœuds est automatisée.</div>
</blockquote>

<p>Kubernetes permet de spécifier des clés de registre dans un pod.</p>

<h4 id="créer-un-secret-avec-une-config-docker">Créer un Secret avec une config Docker</h4>

<p>Exécutez la commande suivante, en substituant les valeurs en majuscule :</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">kubectl create secret docker-registry &lt;name&gt; --docker-server<span style="color:#666">=</span>SERVEUR_REGISTRE_DOCKER --docker-username<span style="color:#666">=</span>UTILISATEUR_DOCKER --docker-password<span style="color:#666">=</span>MOT_DE_PASSE_DOCKER --docker-email<span style="color:#666">=</span>EMAIL_DOCKER
secret/myregistrykey created.</code></pre></div>
<p>Si vous avez déjà un fichier de clés Docker, alors, plutôt que d&rsquo;utiliser la commande ci-dessus,
vous pouvez importer le fichier de clés comme un Secret Kubernetes.
<a href="/docs/tasks/configure-pod-container/pull-image-private-registry/#registry-secret-existing-credentials">Créer un Secret basé sur des clés Docker existantes</a> explique comment s&rsquo;y prendre.
Ceci est particulièrement utile si vous utilisez plusieurs registres privés, <code>kubectl create secret docker-registry</code> créant un Secret ne fonctionnant qu&rsquo;avec un seul registre privé.</p>

<blockquote class="note">
  <div><strong>Note:</strong> Les pods peuvent référencer des pull secrets dans leur propre namespace uniquement,
ces étapes doivent donc être faites pour chaque namespace.</div>
</blockquote>

<h4 id="se-référer-à-un-imagepullsecrets-dans-un-pod">Se référer à un imagePullSecrets dans un Pod</h4>

<p>Vous pouvez maintenant créer des pods qui référencent ce secret en ajoutant une section <code>imagePullSecrets</code>
dans la définition du pod.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cat <span style="color:#b44">&lt;&lt;EOF &gt; pod.yaml
</span><span style="color:#b44">apiVersion: v1
</span><span style="color:#b44">kind: Pod
</span><span style="color:#b44">metadata:
</span><span style="color:#b44">  name: foo
</span><span style="color:#b44">  namespace: awesomeapps
</span><span style="color:#b44">spec:
</span><span style="color:#b44">  containers:
</span><span style="color:#b44">    - name: foo
</span><span style="color:#b44">      image: janedoe/awesomeapp:v1
</span><span style="color:#b44">  imagePullSecrets:
</span><span style="color:#b44">    - name: myregistrykey
</span><span style="color:#b44">EOF</span>

cat <span style="color:#b44">&lt;&lt;EOF &gt;&gt; ./kustomization.yaml
</span><span style="color:#b44">resources:
</span><span style="color:#b44">- pod.yaml
</span><span style="color:#b44">EOF</span></code></pre></div>
<p>Ceci doit être fait pour chaque pod utilisant un registre privé.</p>

<p>Cependant, la définition de ce champ peut être automatisé en définissant <code>imagePullSecrets</code>
dans une ressource <a href="/docs/user-guide/service-accounts">serviceAccount</a>.
Voyez <a href="/docs/tasks/configure-pod-container/configure-service-account/#add-imagepullsecrets-to-a-service-account">Ajouter un ImagePullSecrets à un Service Account</a> pour des instructions détaillées.</p>

<p>Vous pouvez utiliser cette méthode en conjonction avec un <code>.docker/config.json</code> par nœud.  Les certificats seront alors regroupés. Cette approche fonctionnera dans Google Kubernetes Engine.</p>

<h3 id="cas-d-utilisation">Cas d&rsquo;utilisation</h3>

<p>Il y a plusieurs solutions pour configurer des registres privés. Voici quelques cas d&rsquo;utilisation classiques et des propositions de solutions.</p>

<ol>
<li>Cluster exécutant uniquement des images non propriétaires (par ex. open-source). Inutile de protéger les images.

<ul>
<li>Utilisez des images publiques dans le Hub Docker.

<ul>
<li>Pas de configuration requise.</li>
<li>Dans GCE/Google Kubernetes Engine, un miroir local est automatiquement utilisé pour améliorer la vitesse et la disponibilité.</li>
</ul></li>
</ul></li>
<li>Cluster exécutant quelques images propriétaires qui doivent être protégées de l&rsquo;extérieur de l&rsquo;entreprise, mais visibles pour tous les utilisteurs du cluster.

<ul>
<li>Utilisez un <a href="https://docs.docker.com/registry/" target="_blank">registre Docker</a> hébergé privé.

<ul>
<li>Il peut être hébergé sur le <a href="https://hub.docker.com/signup" target="_blank">Hub Docker</a>, ou ailleurs.</li>
<li>Configurez manuellement .docker/config.json sur caque nœud comme décrit ci-dessus.</li>
</ul></li>
<li>Ou, utilisez un registre privé interne derrière votre pare-feu avec un accès ouvert en lecture.

<ul>
<li>Aucune configuration Kubernetes n&rsquo;est nécessaire.</li>
</ul></li>
<li>Ou, dans GCE/Google Kubernetes Engine, utilisez le Google Container Registry du projet.

<ul>
<li>Cela fonctionnera mieux pour l&rsquo;autoscaling du cluster que la configuration manuelle des nœuds.</li>
</ul></li>
<li>Ou, dans un cluster où le changement de la configuration des nœuds est difficile, utilisez <code>imagePullSecrets</code>.</li>
</ul></li>
<li>Cluster avec des images propriétaires, dont quelques-unes nécessitent un contrôle d&rsquo;accès plus strict.

<ul>
<li>Assurez-vous que <a href="/docs/reference/access-authn-authz/admission-controllers/#alwayspullimages">l&rsquo;admission controller AlwaysPullImages</a> est actif. Autrement, tous les Pods ont potentiellement accès à toutes les images.</li>
<li>Déplacez les données sensibles dans une ressource &ldquo;Secret&rdquo;, plutôt que de les intégrer dans une image.</li>
</ul></li>
<li>Un cluster multi-tenant où chaque <em>tenant</em> doit avoir son propre registre privé.

<ul>
<li>Assurez-vous que <a href="/docs/reference/access-authn-authz/admission-controllers/#alwayspullimages">l&rsquo;admission controller AlwaysPullImages</a> est actif. Autrement, tous les Pods ont potentiellement accès à toutes les images.</li>
<li>Utilisez un registre privé nécessitant l&rsquo;autorisation.</li>
<li>Générez des certificats de registre pour chaque <em>tenant</em>, placez-les dans des secrets, et placez ces secrets dans les namespaces de chaque <em>tenant</em>.
pod   - Le <em>tenant</em> ajoute ce secret dans les imagePullSecrets de chaque pod.</li>
</ul></li>
</ol>







<p>Si vous devez accéder à plusieurs registres, vous pouvez créer un secret pour chaque registre.
Kubelet va fusionner tous les <code>imagePullSecrets</code> dans un unique <code>.docker/config.json</code> virtuel.</p>









    
            
  <h2>Feedback</h2>
  <p class="feedback--prompt">Cette page est elle utile ? </p>
  <button class="button feedback--yes">Oui</button>
  <button class="button feedback--no">Non</button>
  <p class="feedback--response feedback--response__hidden">
    Thanks for the feedback. If you have a specific, answerable question about how to use Kubernetes, ask it on
    <a target="_blank" rel="noopener"
      href="https://stackoverflow.com/questions/tagged/kubernetes">
      Stack Overflow</a>.
    Open an issue in the GitHub repo if you want to 
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Issue%20with%20k8s.io">
      report a problem</a>
    or
    <a class="feedback--link" target="_blank" rel="noopener"
      href="https://github.com/kubernetes/website/issues/new?title=Improvement%20for%20k8s.io">
      suggest an improvement</a>.
  </p>
  <script>
    const yes = document.querySelector('.feedback--yes');
    const no = document.querySelector('.feedback--no');
    document.querySelectorAll('.feedback--link').forEach(link => {
      link.href = link.href + window.location.pathname;
    });
    const sendFeedback = (value) => {
      if (!gtag) { console.log('!gtag'); }
      gtag('event', 'click', {
        'event_category': 'Helpful',
        'event_label': window.location.pathname,
        value
      });
    };
    const disableButtons = () => {
      yes.disabled = true;
      yes.classList.add('feedback--button__disabled');
      no.disabled = true;
      no.classList.add('feedback--button__disabled');
    };
    yes.addEventListener('click', () => {
      sendFeedback(1);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
    no.addEventListener('click', () => {
      sendFeedback(0);
      disableButtons();
      document.querySelector('.feedback--response').classList.remove('feedback--response__hidden');
    });
  </script>


    
            <div id="pre-footer"> 
  <hr />

  <div class="issue-button-container">
    <p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/concepts/containers/images.md?pixel" alt="Analytics" /></a></p>
    
    
    <script type="text/javascript">
    PDRTJS_settings_8345992 = {
    "id" : "8345992",
    "unique_id" : "\/fr\/docs\/concepts\/containers\/images\/",
    "title" : "Images",
    "permalink" : "https:\/\/kubernetes.io\/fr\/docs\/concepts\/containers\/images\/"
    };
    (function(d,c,j){if(!document.getElementById(j)){var pd=d.createElement(c),s;pd.id=j;pd.src=('https:'==document.location.protocol)?'https://polldaddy.com/js/rating/rating.js':'http://i0.poll.fm/js/rating/rating.js';s=document.getElementsByTagName(c)[0];s.parentNode.insertBefore(pd,s);}}(document,'script','pd-rating-js'));
    </script>
    <a href="" onclick="window.open('https://github.com/kubernetes/website/issues/new?template=bug-report.md&title=Issue%20with%20' +
    'k8s.io'+window.location.pathname)" class="button issue">Ouvrez un ticket</a>
    
    
    
    <a href="https://github.com/kubernetes/website/edit/master/content/fr/docs/concepts/containers/images.md" class="button issue">Editez cette page</a>
    
  </div>
  

  <div id="lastedit" class="lastedit issue-button-container">
    Dernière modification le January 15, 2020 at 7:33 AM PST de
    <a href="https://github.com/kubernetes/website/commit/e4f14e1c627753d65a32d7d456aef171491b2650/">Updating links and product name for FR language files (#18103)</a> (<a href="https://github.com/kubernetes/website/commits/master/content/en/docs/concepts/containers/images.md">Historique</a>)
  </div>
  
</div>

          </div>
        </section>
    </main>
		<footer>
    <div class="light-text main-section">
        <nav>
            
            
            
            <a href="/fr/docs/home/">Accueil</a>
            
            <a href="/fr/blog/">Blog</a>
            
            
            
            <a href="/fr/partners/">Partenaires</a>
            
            <a href="/fr/community/">Communauté</a>
            
            <a href="/fr/case-studies/">Études de cas</a>
            
        </nav>
        <div class="social" role="region" aria-label="Social hyperlinks">
            <div>
                <a href="https://twitter.com/kubernetesio" class="twitter"><span>Twitter</span></a>
                <a href="https://github.com/kubernetes/kubernetes" class="github"><span>GitHub</span></a>
                <a href="https://slack.k8s.io/" class="slack"><span>Slack</span></a>
            </div>
            <div>
                <a href="https://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>Stack Overflow</span></a>
                <a href="https://www.youtube.com/kubernetescommunity" class="youtube"><span>YouTube</span></a>
                <a href="https://discuss.kubernetes.io" class="mailing-list"><span>Forum</span></a>
                <a href="https://calendar.google.com/calendar/embed?src=nt2tcnbtbied3l6gi2h29slvc0%40group.calendar.google.com" class="calendar"><span>Calendrier</span></a>
            </div>
            <div>
                
                <a href="https://git.k8s.io/community/contributors/guide" class="button">Contribuer</a>
            </div>
        </div>
        <div class="miceType center">
            &copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href="https://git.k8s.io/website/LICENSE" class="light-text">CC BY 4.0</a></a>
        </div>
        <div class="miceType center">
            Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/trademark-usage" class="light-text">Trademark Usage page</a>
        </div>
        <div class="miceType center">
            ICP license: 京ICP备17074266号-3
        </div>
    </div>
</footer>

		<button class="flyout-button" onclick="kub.toggleToc()" aria-label="Toggle table of contents visibility"></button>

<script>

(function () {
    window.addEventListener('DOMContentLoaded', init)

        
        function init() {
            window.removeEventListener('DOMContentLoaded', init)
                hideNav()
        }

    function hideNav(toc){
        if (!toc) toc = document.querySelector('#docsToc')
        if (!toc) return
            var container = toc.querySelector('.container')

                
                if (container) {
                    if (container.childElementCount === 0 || toc.querySelectorAll('a.item').length === 1) {
                        toc.style.display = 'none'
                            document.getElementById('docsContent').style.width = '100%'
                    }
                } else {
                    requestAnimationFrame(function () {
                        hideNav(toc)
                    })
                }
    }
})();
</script>



    <script language="application/javascript">
      
      (function addHeadingLinks(){
        var article = document.getElementById('docsContent');
        var headings = article.querySelectorAll('h1, h2, h3, h4, h5, h6');
        headings.forEach(function(heading){
          if(heading.id){
            var a = document.createElement('a');
            a.innerHTML = heading.innerHTML;
            a.href = '#'+heading.id;
            a.classList.add('inpage_heading');
            heading.innerHTML = '';
            heading.appendChild(a);
          }
        });
      })();
    </script>
	</body>
</html>
